{
//=========Macro generated from canvas: AlphaH_endcap/Alpha
//=========  (Tue Mar 24 12:45:18 2020) by ROOT version5.34/36
   TCanvas *AlphaH_endcap = new TCanvas("AlphaH_endcap", "Alpha",20,43,500,300);
   AlphaH_endcap->Range(0,0,1,1);
   AlphaH_endcap->SetFillColor(0);
   AlphaH_endcap->SetBorderMode(0);
   AlphaH_endcap->SetBorderSize(2);
   AlphaH_endcap->SetLogx();
   AlphaH_endcap->SetGridx();
   AlphaH_endcap->SetGridy();
   AlphaH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Alpha parameter (H Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#alpha coefficient (H_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Alpha vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.614091,-0.2557341);
   gre->SetPointError(0,0.008747733,0.1979505);
   gre->SetPoint(1,3.573151,-0.1146799);
   gre->SetPointError(1,0.005480269,0.03258677);
   gre->SetPoint(2,4.537049,-0.01439957);
   gre->SetPointError(2,0.004257086,0.0162362);
   gre->SetPoint(3,5.528408,0.005642569);
   gre->SetPointError(3,0.0034399,0.01050597);
   gre->SetPoint(4,6.503656,0.0003044168);
   gre->SetPointError(4,0.003120519,0.008177625);
   gre->SetPoint(5,7.503143,0.002147906);
   gre->SetPointError(5,0.002983269,0.007083986);
   gre->SetPoint(6,8.506576,0.02580295);
   gre->SetPointError(6,0.002871851,0.006345313);
   gre->SetPoint(7,9.506857,0.02231977);
   gre->SetPointError(7,0.002792977,0.005708259);
   gre->SetPoint(8,12.03466,0.03034432);
   gre->SetPointError(8,0.005354227,0.002376719);
   gre->SetPoint(9,15.99542,0.02932662);
   gre->SetPointError(9,0.00524532,0.001988467);
   gre->SetPoint(10,20.00309,0.02266455);
   gre->SetPointError(10,0.00519366,0.001749);
   gre->SetPoint(11,23.99324,0.02027369);
   gre->SetPointError(11,0.005200575,0.001587543);
   gre->SetPoint(12,27.99393,0.02203509);
   gre->SetPointError(12,0.005266176,0.001475856);
   gre->SetPoint(13,31.9918,0.01413126);
   gre->SetPointError(13,0.005293749,0.00137275);
   gre->SetPoint(14,36.00416,0.01166155);
   gre->SetPointError(14,0.00534585,0.001288481);
   gre->SetPoint(15,39.98718,0.009206664);
   gre->SetPointError(15,0.005359118,0.001224243);
   gre->SetPoint(16,44.00247,0.0107163);
   gre->SetPointError(16,0.005404338,0.001162832);
   gre->SetPoint(17,48.0035,0.008569467);
   gre->SetPointError(17,0.005462721,0.001117448);
   gre->SetPoint(18,51.98896,0.007129229);
   gre->SetPointError(18,0.005434245,0.001067965);
   gre->SetPoint(19,56.00185,0.008640602);
   gre->SetPointError(19,0.005455143,0.001030504);
   gre->SetPoint(20,59.99858,0.007195515);
   gre->SetPointError(20,0.00543734,0.0009909287);
   gre->SetPoint(21,63.9945,0.00359625);
   gre->SetPointError(21,0.005461268,0.0009623873);
   gre->SetPoint(22,67.99618,0.004514975);
   gre->SetPointError(22,0.005525032,0.0009383462);
   gre->SetPoint(23,71.99131,0.003105606);
   gre->SetPointError(23,0.005520649,0.0009128575);
   gre->SetPoint(24,75.99984,0.002348756);
   gre->SetPointError(24,0.005545334,0.0008866987);
   gre->SetPoint(25,80.00168,0.003100333);
   gre->SetPointError(25,0.005550555,0.0008673043);
   gre->SetPoint(26,84.0067,0.001400911);
   gre->SetPointError(26,0.005550118,0.00084548);
   gre->SetPoint(27,88.00138,0.003414561);
   gre->SetPointError(27,0.005569098,0.0008296928);
   gre->SetPoint(28,91.99804,0.001870161);
   gre->SetPointError(28,0.005567866,0.0008094769);
   gre->SetPoint(29,95.99219,0.001609091);
   gre->SetPointError(29,0.005573359,0.000788323);
   gre->SetPoint(30,99.00321,0.001240788);
   gre->SetPointError(30,0.003967827,0.001113181);
   gre->SetPoint(31,102.0003,0.001491295);
   gre->SetPointError(31,0.005590753,0.0007691728);
   gre->SetPoint(32,121.9975,0.001345245);
   gre->SetPointError(32,0.005636222,0.000713072);
   gre->SetPoint(33,142.0008,-0.00121761);
   gre->SetPointError(33,0.005669201,0.0006599181);
   gre->SetPoint(34,161.9886,-0.002148816);
   gre->SetPointError(34,0.005688641,0.0006206831);
   gre->SetPoint(35,182.003,-0.0006414786);
   gre->SetPointError(35,0.005737403,0.0005915621);
   gre->SetPoint(36,201.9938,-0.001653121);
   gre->SetPointError(36,0.007023544,0.0006859753);
   gre->SetPoint(37,221.9938,-0.001689468);
   gre->SetPointError(37,0.007131625,0.0006639324);
   gre->SetPoint(38,242.0101,-0.001216039);
   gre->SetPointError(38,0.007180872,0.0006370978);
   gre->SetPoint(39,262.0039,-0.001451691);
   gre->SetPointError(39,0.007256024,0.0006205308);
   gre->SetPoint(40,281.996,-0.002542714);
   gre->SetPointError(40,0.007234162,0.0006000401);
   gre->SetPoint(41,301.99,-0.0009820257);
   gre->SetPointError(41,0.007341581,0.0005807933);
   gre->SetPoint(42,322.0074,-0.002935634);
   gre->SetPointError(42,0.007373001,0.0005693386);
   gre->SetPoint(43,341.9897,-0.003070378);
   gre->SetPointError(43,0.007314855,0.0005489194);
   gre->SetPoint(44,361.9974,-0.00248218);
   gre->SetPointError(44,0.007459548,0.0005405369);
   gre->SetPoint(45,381.9974,-0.003364382);
   gre->SetPointError(45,0.007415065,0.0005252842);
   gre->SetPoint(46,402.001,-0.002898882);
   gre->SetPointError(46,0.007413966,0.0005133793);
   gre->SetPoint(47,421.998,-0.004399779);
   gre->SetPointError(47,0.007494095,0.0005039951);
   gre->SetPoint(48,441.9766,-0.003482851);
   gre->SetPointError(48,0.007536422,0.000498016);
   gre->SetPoint(49,461.9959,-0.003393486);
   gre->SetPointError(49,0.007553767,0.0004869118);
   gre->SetPoint(50,482.0037,-0.002969014);
   gre->SetPointError(50,0.007574727,0.0004776519);
   
   TH1F *Graph_Graph2 = new TH1F("Graph_Graph2","Alpha vs True Energy",100,0,529.9518);
   Graph_Graph2->SetMinimum(-0.5023252);
   Graph_Graph2->SetMaximum(0.0813616);
   Graph_Graph2->SetDirectory(0);
   Graph_Graph2->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph2->SetLineColor(ci);
   Graph_Graph2->GetXaxis()->SetLabelFont(42);
   Graph_Graph2->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph2->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph2->GetXaxis()->SetTitleFont(42);
   Graph_Graph2->GetYaxis()->SetLabelFont(42);
   Graph_Graph2->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph2->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph2->GetYaxis()->SetTitleFont(42);
   Graph_Graph2->GetZaxis()->SetLabelFont(42);
   Graph_Graph2->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph2->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph2->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph2);
   
   
   TF1 *functionEndcapAlphaHcal = new TF1("functionEndcapAlphaHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionEndcapAlphaHcal->SetFillColor(19);
   functionEndcapAlphaHcal->SetFillStyle(0);
   functionEndcapAlphaHcal->SetLineColor(2);
   functionEndcapAlphaHcal->SetLineWidth(2);
   functionEndcapAlphaHcal->SetChisquare(169.7617);
   functionEndcapAlphaHcal->SetNDF(51);
   functionEndcapAlphaHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapAlphaHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapAlphaHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapAlphaHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapAlphaHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapAlphaHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapAlphaHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapAlphaHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapAlphaHcal->SetParameter(0,-0.00267139);
   functionEndcapAlphaHcal->SetParError(0,0);
   functionEndcapAlphaHcal->SetParLimits(0,-0.00267139,-0.00267139);
   functionEndcapAlphaHcal->SetParameter(1,0.0376755);
   functionEndcapAlphaHcal->SetParError(1,0);
   functionEndcapAlphaHcal->SetParLimits(1,0.0376755,0.0376755);
   functionEndcapAlphaHcal->SetParameter(2,42.5313);
   functionEndcapAlphaHcal->SetParError(2,0);
   functionEndcapAlphaHcal->SetParLimits(2,42.5313,42.5313);
   gre->GetListOfFunctions()->Add(functionEndcapAlphaHcal);
   gre->Draw("p");
   
   TF1 *faEtaBarrel = new TF1("faEtaBarrel","#alpha coef 4XY",1,1000);
   faEtaBarrel->SetFillColor(19);
   faEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   faEtaBarrel->SetLineColor(ci);
   faEtaBarrel->SetLineWidth(2);
   faEtaBarrel->SetLineStyle(2);
   faEtaBarrel->GetXaxis()->SetLabelFont(42);
   faEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleFont(42);
   faEtaBarrel->GetYaxis()->SetLabelFont(42);
   faEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleFont(42);
   faEtaBarrel->SetParameter(0,0.014664);
   faEtaBarrel->SetParError(0,0);
   faEtaBarrel->SetParLimits(0,0,0);
   faEtaBarrel->SetParameter(1,-0.0426776);
   faEtaBarrel->SetParError(1,0);
   faEtaBarrel->SetParLimits(1,0,0);
   faEtaBarrel->SetParameter(2,431.054);
   faEtaBarrel->SetParError(2,0);
   faEtaBarrel->SetParLimits(2,0,0);
   faEtaBarrel->Draw("Lsame+");
   
   // TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Graph0","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5401205,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#alpha coef 4XY");
   //pt->Draw();
   AlphaH_endcap->Modified();
   AlphaH_endcap->cd();
   AlphaH_endcap->SetSelected(AlphaH_endcap);
   AlphaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/H_ec/AlphaCoefficientH_endcap.pdf");
   AlphaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/H_ec/AlphaCoefficientH_endcap.png");
   AlphaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/H_ec/AlphaCoefficientH_endcap.gif");

}
