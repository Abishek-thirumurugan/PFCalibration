{
//=========Macro generated from canvas: BetaH_endcap/Beta
//=========  (Tue Mar 24 12:45:23 2020) by ROOT version5.34/36
   TCanvas *BetaH_endcap = new TCanvas("BetaH_endcap", "Beta",40,63,500,300);
   BetaH_endcap->Range(0,0,1,1);
   BetaH_endcap->SetFillColor(0);
   BetaH_endcap->SetBorderMode(0);
   BetaH_endcap->SetBorderSize(2);
   BetaH_endcap->SetLogx();
   BetaH_endcap->SetGridx();
   BetaH_endcap->SetGridy();
   BetaH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (H Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (H_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.614091,0.01846099);
   gre->SetPointError(0,0.008747733,0.1226811);
   gre->SetPoint(1,3.573151,0.01633632);
   gre->SetPointError(1,0.005480269,0.02718303);
   gre->SetPoint(2,4.537049,0.0353211);
   gre->SetPointError(2,0.004257086,0.01604561);
   gre->SetPoint(3,5.528408,0.05898784);
   gre->SetPointError(3,0.0034399,0.01129504);
   gre->SetPoint(4,6.503656,0.06556779);
   gre->SetPointError(4,0.003120519,0.009137221);
   gre->SetPoint(5,7.503143,0.08002352);
   gre->SetPointError(5,0.002983269,0.007670607);
   gre->SetPoint(6,8.506576,0.08044426);
   gre->SetPointError(6,0.002871851,0.006899209);
   gre->SetPoint(7,9.506857,0.09368135);
   gre->SetPointError(7,0.002792977,0.006196007);
   gre->SetPoint(8,12.03466,0.1126729);
   gre->SetPointError(8,0.005354227,0.002559587);
   gre->SetPoint(9,15.99542,0.1197343);
   gre->SetPointError(9,0.00524532,0.002107251);
   gre->SetPoint(10,20.00309,0.1157162);
   gre->SetPointError(10,0.00519366,0.001847726);
   gre->SetPoint(11,23.99324,0.1123249);
   gre->SetPointError(11,0.005200575,0.001668486);
   gre->SetPoint(12,27.99393,0.1026196);
   gre->SetPointError(12,0.005266176,0.001527276);
   gre->SetPoint(13,31.9918,0.09948945);
   gre->SetPointError(13,0.005293749,0.001429669);
   gre->SetPoint(14,36.00416,0.09411489);
   gre->SetPointError(14,0.00534585,0.001352548);
   gre->SetPoint(15,39.98718,0.08688267);
   gre->SetPointError(15,0.005359118,0.001274056);
   gre->SetPoint(16,44.00247,0.08317441);
   gre->SetPointError(16,0.005404338,0.001226471);
   gre->SetPoint(17,48.0035,0.07806612);
   gre->SetPointError(17,0.005462721,0.001179656);
   gre->SetPoint(18,51.98896,0.07300957);
   gre->SetPointError(18,0.005434245,0.001110268);
   gre->SetPoint(19,56.00185,0.07078772);
   gre->SetPointError(19,0.005455143,0.001075367);
   gre->SetPoint(20,59.99858,0.06582323);
   gre->SetPointError(20,0.00543734,0.001027535);
   gre->SetPoint(21,63.9945,0.06715183);
   gre->SetPointError(21,0.005461268,0.0009997017);
   gre->SetPoint(22,67.99618,0.06493048);
   gre->SetPointError(22,0.005525032,0.0009697845);
   gre->SetPoint(23,71.99131,0.06383927);
   gre->SetPointError(23,0.005520649,0.00094617);
   gre->SetPoint(24,75.99984,0.05832476);
   gre->SetPointError(24,0.005545334,0.0009218641);
   gre->SetPoint(25,80.00168,0.05811956);
   gre->SetPointError(25,0.005550555,0.0008878094);
   gre->SetPoint(26,84.0067,0.05737936);
   gre->SetPointError(26,0.005550118,0.0008620416);
   gre->SetPoint(27,88.00138,0.05633013);
   gre->SetPointError(27,0.005569098,0.0008433908);
   gre->SetPoint(28,91.99804,0.0565107);
   gre->SetPointError(28,0.005567866,0.0008316934);
   gre->SetPoint(29,95.99219,0.05689271);
   gre->SetPointError(29,0.005573359,0.0008116783);
   gre->SetPoint(30,99.00321,0.05502864);
   gre->SetPointError(30,0.003967827,0.001125487);
   gre->SetPoint(31,102.0003,0.05267075);
   gre->SetPointError(31,0.005590753,0.0007819808);
   gre->SetPoint(32,121.9975,0.0471118);
   gre->SetPointError(32,0.005636222,0.0007162643);
   gre->SetPoint(33,142.0008,0.04347307);
   gre->SetPointError(33,0.005669201,0.000661314);
   gre->SetPoint(34,161.9886,0.03839047);
   gre->SetPointError(34,0.005688641,0.0006162969);
   gre->SetPoint(35,182.003,0.03658007);
   gre->SetPointError(35,0.005737403,0.0005824969);
   gre->SetPoint(36,201.9938,0.0347624);
   gre->SetPointError(36,0.007023544,0.0006788911);
   gre->SetPoint(37,221.9938,0.03408005);
   gre->SetPointError(37,0.007131625,0.0006523451);
   gre->SetPoint(38,242.0101,0.03039059);
   gre->SetPointError(38,0.007180872,0.0006317782);
   gre->SetPoint(39,262.0039,0.02940295);
   gre->SetPointError(39,0.007256024,0.0006089852);
   gre->SetPoint(40,281.996,0.0289102);
   gre->SetPointError(40,0.007234162,0.0005929873);
   gre->SetPoint(41,301.99,0.02659813);
   gre->SetPointError(41,0.007341581,0.0005693984);
   gre->SetPoint(42,322.0074,0.02597085);
   gre->SetPointError(42,0.007373001,0.0005555538);
   gre->SetPoint(43,341.9897,0.02557476);
   gre->SetPointError(43,0.007314855,0.0005348169);
   gre->SetPoint(44,361.9974,0.02397886);
   gre->SetPointError(44,0.007459548,0.0005284397);
   gre->SetPoint(45,381.9974,0.0232104);
   gre->SetPointError(45,0.007415065,0.0005033394);
   gre->SetPoint(46,402.001,0.02289638);
   gre->SetPointError(46,0.007413966,0.0004954331);
   gre->SetPoint(47,421.998,0.02198203);
   gre->SetPointError(47,0.007494095,0.0004896203);
   gre->SetPoint(48,441.9766,0.02162559);
   gre->SetPointError(48,0.007536422,0.0004766246);
   gre->SetPoint(49,461.9959,0.02042606);
   gre->SetPointError(49,0.007553767,0.0004710227);
   gre->SetPoint(50,482.0037,0.01997258);
   gre->SetPointError(50,0.007574727,0.0004610127);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Beta vs True Energy",100,0,529.9518);
   Graph_Graph3->SetMinimum(-0.1287564);
   Graph_Graph3->SetMaximum(0.1656784);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionEndcapBetaHcal = new TF1("functionEndcapBetaHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionEndcapBetaHcal->SetFillColor(19);
   functionEndcapBetaHcal->SetFillStyle(0);
   functionEndcapBetaHcal->SetLineColor(2);
   functionEndcapBetaHcal->SetLineWidth(2);
   functionEndcapBetaHcal->SetChisquare(782.0006);
   functionEndcapBetaHcal->SetNDF(51);
   functionEndcapBetaHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->SetParameter(0,0.022428);
   functionEndcapBetaHcal->SetParError(0,0);
   functionEndcapBetaHcal->SetParLimits(0,0.022428,0.022428);
   functionEndcapBetaHcal->SetParameter(1,0.100791);
   functionEndcapBetaHcal->SetParError(1,0);
   functionEndcapBetaHcal->SetParLimits(1,0.100791,0.100791);
   functionEndcapBetaHcal->SetParameter(2,85.7951);
   functionEndcapBetaHcal->SetParError(2,0);
   functionEndcapBetaHcal->SetParLimits(2,85.7951,85.7951);
   gre->GetListOfFunctions()->Add(functionEndcapBetaHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5381124,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaH_endcap->Modified();
   BetaH_endcap->cd();
   BetaH_endcap->SetSelected(BetaH_endcap);
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/H_ec/BetaCoefficientH_endcap.pdf");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/H_ec/BetaCoefficientH_endcap.png");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/H_ec/BetaCoefficientH_endcap.gif");
}
