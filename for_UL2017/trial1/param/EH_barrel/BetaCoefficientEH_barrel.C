{
//=========Macro generated from canvas: BetaEH_barrel/Beta
//=========  (Tue Mar 24 16:29:54 2020) by ROOT version5.34/36
   TCanvas *BetaEH_barrel = new TCanvas("BetaEH_barrel", "Beta",60,83,500,300);
   BetaEH_barrel->Range(0,0,1,1);
   BetaEH_barrel->SetFillColor(0);
   BetaEH_barrel->SetBorderMode(0);
   BetaEH_barrel->SetBorderSize(2);
   BetaEH_barrel->SetLogx();
   BetaEH_barrel->SetGridx();
   BetaEH_barrel->SetGridy();
   BetaEH_barrel->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (EH Barrel)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (EH_barrel)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.615204,0.0471106);
   gre->SetPointError(0,0.01440043,0.07137969);
   gre->SetPoint(1,3.584291,-0.08017291);
   gre->SetPointError(1,0.007855013,0.248978);
   gre->SetPoint(2,4.555057,0.07814687);
   gre->SetPointError(2,0.005381667,0.09913532);
   gre->SetPoint(3,5.531562,0.1324679);
   gre->SetPointError(3,0.004186057,0.05189505);
   gre->SetPoint(4,6.527494,0.181498);
   gre->SetPointError(4,0.003609521,0.0363721);
   gre->SetPoint(5,7.516436,0.2331881);
   gre->SetPointError(5,0.003212568,0.02629016);
   gre->SetPoint(6,8.508924,0.188784);
   gre->SetPointError(6,0.002987697,0.02103412);
   gre->SetPoint(7,9.50892,0.1668975);
   gre->SetPointError(7,0.002736743,0.01637871);
   gre->SetPoint(8,12.1043,0.1852847);
   gre->SetPointError(8,0.004840919,0.005900826);
   gre->SetPoint(9,16.05257,0.1745413);
   gre->SetPointError(9,0.004391144,0.004202907);
   gre->SetPoint(10,20.02494,0.1760322);
   gre->SetPointError(10,0.004186734,0.003400569);
   gre->SetPoint(11,24.01641,0.1783845);
   gre->SetPointError(11,0.004041364,0.002890962);
   gre->SetPoint(12,28.00704,0.1712148);
   gre->SetPointError(12,0.003970181,0.002589292);
   gre->SetPoint(13,32.0104,0.1718518);
   gre->SetPointError(13,0.003912581,0.002352957);
   gre->SetPoint(14,36.0009,0.1776482);
   gre->SetPointError(14,0.003852885,0.002198055);
   gre->SetPoint(15,40.00658,0.1556072);
   gre->SetPointError(15,0.003845917,0.002067937);
   gre->SetPoint(16,44.00412,0.1611745);
   gre->SetPointError(16,0.003805071,0.001965069);
   gre->SetPoint(17,48.00995,0.1554412);
   gre->SetPointError(17,0.003803774,0.001876887);
   gre->SetPoint(18,51.99924,0.1437129);
   gre->SetPointError(18,0.003802588,0.001831482);
   gre->SetPoint(19,56.00429,0.1400487);
   gre->SetPointError(19,0.003792967,0.001773822);
   gre->SetPoint(20,60.00269,0.1392897);
   gre->SetPointError(20,0.003769803,0.001712529);
   gre->SetPoint(21,63.99873,0.1376675);
   gre->SetPointError(21,0.003773978,0.00168625);
   gre->SetPoint(22,68.00445,0.1384877);
   gre->SetPointError(22,0.003779734,0.001630051);
   gre->SetPoint(23,72.00061,0.1293214);
   gre->SetPointError(23,0.003771505,0.001575269);
   gre->SetPoint(24,75.99669,0.1343547);
   gre->SetPointError(24,0.003767492,0.001564257);
   gre->SetPoint(25,79.99888,0.1387631);
   gre->SetPointError(25,0.003767223,0.001537973);
   gre->SetPoint(26,83.99594,0.1322412);
   gre->SetPointError(26,0.003769121,0.001520017);
   gre->SetPoint(27,87.99932,0.1474143);
   gre->SetPointError(27,0.003758135,0.001491005);
   gre->SetPoint(28,92.00884,0.1404759);
   gre->SetPointError(28,0.003746061,0.001487689);
   gre->SetPoint(29,95.99738,0.1327418);
   gre->SetPointError(29,0.003751077,0.001448985);
   gre->SetPoint(30,98.99775,0.146358);
   gre->SetPointError(30,0.002648036,0.002024238);
   gre->SetPoint(31,110.0262,0.1319432);
   gre->SetPointError(31,0.008371717,0.000615796);
   gre->SetPoint(32,129.9986,0.1205138);
   gre->SetPointError(32,0.008363497,0.0005744076);
   gre->SetPoint(33,150.0042,0.1183722);
   gre->SetPointError(33,0.008378222,0.0005431968);
   gre->SetPoint(34,169.9865,0.1081521);
   gre->SetPointError(34,0.008356914,0.0005169687);
   gre->SetPoint(35,189.9861,0.1047141);
   gre->SetPointError(35,0.008359192,0.0004965047);
   gre->SetPoint(36,209.9985,0.1003096);
   gre->SetPointError(36,0.01026049,0.0005820318);
   gre->SetPoint(37,229.9969,0.09731473);
   gre->SetPointError(37,0.0102935,0.000564757);
   gre->SetPoint(38,249.986,0.09363469);
   gre->SetPointError(38,0.01030837,0.0005455457);
   gre->SetPoint(39,269.9808,0.08961326);
   gre->SetPointError(39,0.01031208,0.000531299);
   gre->SetPoint(40,289.9967,0.08427641);
   gre->SetPointError(40,0.01033845,0.0005165953);
   gre->SetPoint(41,309.9771,0.0835683);
   gre->SetPointError(41,0.01038846,0.0005063197);
   gre->SetPoint(42,329.9904,0.08007645);
   gre->SetPointError(42,0.0104222,0.0004952069);
   gre->SetPoint(43,350.0027,0.07817761);
   gre->SetPointError(43,0.01042637,0.0004835873);
   gre->SetPoint(44,369.9943,0.0753061);
   gre->SetPointError(44,0.01046779,0.0004745915);
   gre->SetPoint(45,390.0032,0.07541051);
   gre->SetPointError(45,0.01047688,0.0004687603);
   gre->SetPoint(46,409.9902,0.07237513);
   gre->SetPointError(46,0.01054456,0.0004588823);
   gre->SetPoint(47,429.9902,0.07156247);
   gre->SetPointError(47,0.01054094,0.0004508621);
   gre->SetPoint(48,449.9772,0.06904776);
   gre->SetPointError(48,0.01061365,0.0004453919);
   gre->SetPoint(49,469.9898,0.06628125);
   gre->SetPointError(49,0.01061058,0.0004374878);
   gre->SetPoint(50,489.9519,0.06775717);
   gre->SetPointError(50,0.0106296,0.0004313335);
   
   TH1F *Graph_Graph4 = new TH1F("Graph_Graph4","Beta vs True Energy",100,0,538.6987);
   Graph_Graph4->SetMinimum(-0.3880138);
   Graph_Graph4->SetMaximum(0.3183411);
   Graph_Graph4->SetDirectory(0);
   Graph_Graph4->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph4->SetLineColor(ci);
   Graph_Graph4->GetXaxis()->SetLabelFont(42);
   Graph_Graph4->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleFont(42);
   Graph_Graph4->GetYaxis()->SetLabelFont(42);
   Graph_Graph4->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleFont(42);
   Graph_Graph4->GetZaxis()->SetLabelFont(42);
   Graph_Graph4->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph4);
   
   
   TF1 *functionBarrelBetaEcalHcal = new TF1("functionBarrelBetaEcalHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionBarrelBetaEcalHcal->SetFillColor(19);
   functionBarrelBetaEcalHcal->SetFillStyle(0);
   functionBarrelBetaEcalHcal->SetLineColor(2);
   functionBarrelBetaEcalHcal->SetLineWidth(2);
   functionBarrelBetaEcalHcal->SetChisquare(627.3474);
   functionBarrelBetaEcalHcal->SetNDF(51);
   functionBarrelBetaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionBarrelBetaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionBarrelBetaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionBarrelBetaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionBarrelBetaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionBarrelBetaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionBarrelBetaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionBarrelBetaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionBarrelBetaEcalHcal->SetParameter(0,0.0557658);
   functionBarrelBetaEcalHcal->SetParError(0,0);
   functionBarrelBetaEcalHcal->SetParLimits(0,0.0557658,0.0557658);
   functionBarrelBetaEcalHcal->SetParameter(1,0.124518);
   functionBarrelBetaEcalHcal->SetParError(1,0);
   functionBarrelBetaEcalHcal->SetParLimits(1,0.124518,0.124518);
   functionBarrelBetaEcalHcal->SetParameter(2,204.727);
   functionBarrelBetaEcalHcal->SetParError(2,0);
   functionBarrelBetaEcalHcal->SetParLimits(2,204.727,204.727);
   gre->GetListOfFunctions()->Add(functionBarrelBetaEcalHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.06);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5381124,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   // pt->Draw();
   BetaEH_barrel->Modified();
   BetaEH_barrel->cd();
   BetaEH_barrel->SetSelected(BetaEH_barrel);
   BetaEH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/EH_barrel/BetaCoefficientEH_barrel.pdf");
   BetaEH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/EH_barrel/BetaCoefficientEH_barrel.png");
   BetaEH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/EH_barrel/BetaCoefficientEH_barrel.gif");
}
