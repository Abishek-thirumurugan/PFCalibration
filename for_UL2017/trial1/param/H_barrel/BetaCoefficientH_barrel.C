{
//=========Macro generated from canvas: BetaH_barrel/Beta
//=========  (Tue Mar 24 12:48:24 2020) by ROOT version5.34/36
   TCanvas *BetaH_barrel = new TCanvas("BetaH_barrel", "Beta",40,63,500,300);
   BetaH_barrel->Range(0,0,1,1);
   BetaH_barrel->SetFillColor(0);
   BetaH_barrel->SetBorderMode(0);
   BetaH_barrel->SetBorderSize(2);
   BetaH_barrel->SetLogx();
   BetaH_barrel->SetGridx();
   BetaH_barrel->SetGridy();
   BetaH_barrel->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (H Barrel)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (H_barrel)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.562621,0.01863477);
   gre->SetPointError(0,0.004569108,0.07042495);
   gre->SetPoint(1,3.526652,0.03860919);
   gre->SetPointError(1,0.003622103,0.02339752);
   gre->SetPoint(2,4.502313,0.01094266);
   gre->SetPointError(2,0.003335739,0.01524442);
   gre->SetPoint(3,5.505108,0.0219905);
   gre->SetPointError(3,0.00328081,0.01199182);
   gre->SetPoint(4,6.500543,0.06605648);
   gre->SetPointError(4,0.003262367,0.01068218);
   gre->SetPoint(5,7.497865,0.06678383);
   gre->SetPointError(5,0.003311966,0.009623239);
   gre->SetPoint(6,8.506329,0.07709211);
   gre->SetPointError(6,0.003363054,0.008830733);
   gre->SetPoint(7,9.502344,0.0645671);
   gre->SetPointError(7,0.003424257,0.008185213);
   gre->SetPoint(8,11.9635,0.06325475);
   gre->SetPointError(8,0.00706258,0.003652147);
   gre->SetPoint(9,15.97066,0.04555857);
   gre->SetPointError(9,0.007296012,0.003101224);
   gre->SetPoint(10,19.99551,0.0416417);
   gre->SetPointError(10,0.00743659,0.002782442);
   gre->SetPoint(11,23.98835,0.03550501);
   gre->SetPointError(11,0.007525768,0.002556633);
   gre->SetPoint(12,27.98842,0.02959676);
   gre->SetPointError(12,0.007680248,0.002371694);
   gre->SetPoint(13,31.99231,0.02399171);
   gre->SetPointError(13,0.007647248,0.002199019);
   gre->SetPoint(14,35.99979,0.0217405);
   gre->SetPointError(14,0.007677049,0.002055606);
   gre->SetPoint(15,40.01222,0.01267614);
   gre->SetPointError(15,0.007725168,0.001969765);
   gre->SetPoint(16,44.00138,0.01596406);
   gre->SetPointError(16,0.007746075,0.001866154);
   gre->SetPoint(17,47.99906,0.007621857);
   gre->SetPointError(17,0.00777847,0.001793685);
   gre->SetPoint(18,51.98765,0.008863588);
   gre->SetPointError(18,0.007746356,0.001712442);
   gre->SetPoint(19,55.99109,0.005937169);
   gre->SetPointError(19,0.007870933,0.001673105);
   gre->SetPoint(20,60.00266,0.002934392);
   gre->SetPointError(20,0.007897678,0.001609388);
   gre->SetPoint(21,64.0016,0.004212018);
   gre->SetPointError(21,0.00792114,0.001574716);
   gre->SetPoint(22,67.99288,0.006586323);
   gre->SetPointError(22,0.007981541,0.001532854);
   gre->SetPoint(23,72.00717,0.002137563);
   gre->SetPointError(23,0.007957019,0.001492092);
   gre->SetPoint(24,76.00069,0.0006963121);
   gre->SetPointError(24,0.008030061,0.001463689);
   gre->SetPoint(25,79.98624,0.003294009);
   gre->SetPointError(25,0.008083297,0.001423014);
   gre->SetPoint(26,83.98868,0.006067452);
   gre->SetPointError(26,0.008109921,0.001416552);
   gre->SetPoint(27,87.99583,0.0004674872);
   gre->SetPointError(27,0.008067898,0.001362967);
   gre->SetPoint(28,91.9905,0.005592283);
   gre->SetPointError(28,0.008126572,0.001328329);
   gre->SetPoint(29,95.99259,-0.001670713);
   gre->SetPointError(29,0.008194717,0.001318788);
   gre->SetPoint(30,98.993,-0.007141803);
   gre->SetPointError(30,0.005847553,0.001823108);
   gre->SetPoint(31,109.9609,-0.001270776);
   gre->SetPointError(31,0.01853304,0.0005529295);
   gre->SetPoint(32,129.9431,-0.006926358);
   gre->SetPointError(32,0.0189028,0.0005176083);
   gre->SetPoint(33,149.9508,-0.00592146);
   gre->SetPointError(33,0.01933959,0.0004933496);
   gre->SetPoint(34,169.9404,-0.009613754);
   gre->SetPointError(34,0.01965893,0.00046916);
   gre->SetPoint(35,189.9444,-0.01131298);
   gre->SetPointError(35,0.01994729,0.0004513143);
   gre->SetPoint(36,209.9206,-0.01031648);
   gre->SetPointError(36,0.02505345,0.0005355198);
   gre->SetPoint(37,229.9257,-0.01394753);
   gre->SetPointError(37,0.02555378,0.0005212908);
   gre->SetPoint(38,249.9585,-0.01317129);
   gre->SetPointError(38,0.02581816,0.0005014658);
   gre->SetPoint(39,269.9566,-0.0136826);
   gre->SetPointError(39,0.02628913,0.0004919768);
   gre->SetPoint(40,289.9895,-0.01352866);
   gre->SetPointError(40,0.02660345,0.0004829067);
   gre->SetPoint(41,309.9966,-0.01416638);
   gre->SetPointError(41,0.02701187,0.0004731696);
   gre->SetPoint(42,329.9436,-0.01396227);
   gre->SetPointError(42,0.02728336,0.0004621795);
   gre->SetPoint(43,349.9761,-0.01291924);
   gre->SetPointError(43,0.02778928,0.0004566907);
   gre->SetPoint(44,369.9441,-0.01267606);
   gre->SetPointError(44,0.02805311,0.0004499446);
   gre->SetPoint(45,389.9979,-0.01286829);
   gre->SetPointError(45,0.02848963,0.0004483271);
   gre->SetPoint(46,409.8892,-0.01215486);
   gre->SetPointError(46,0.02880566,0.0004397128);
   gre->SetPoint(47,429.9623,-0.01276367);
   gre->SetPointError(47,0.02914964,0.0004340275);
   gre->SetPoint(48,449.9366,-0.01220137);
   gre->SetPointError(48,0.02950617,0.0004301129);
   gre->SetPoint(49,469.9643,-0.0113107);
   gre->SetPointError(49,0.02965538,0.0004242482);
   gre->SetPoint(50,489.9539,-0.01340836);
   gre->SetPointError(50,0.03011652,0.000421945);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Beta vs True Energy",100,0,538.7266);
   Graph_Graph3->SetMinimum(-0.06587517);
   Graph_Graph3->SetMaximum(0.1031447);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionBarrelBetaHcal = new TF1("functionBarrelBetaHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionBarrelBetaHcal->SetFillColor(19);
   functionBarrelBetaHcal->SetFillStyle(0);
   functionBarrelBetaHcal->SetLineColor(2);
   functionBarrelBetaHcal->SetLineWidth(2);
   functionBarrelBetaHcal->SetChisquare(16122.51);
   functionBarrelBetaHcal->SetNDF(51);
   functionBarrelBetaHcal->GetXaxis()->SetLabelFont(42);
   functionBarrelBetaHcal->GetXaxis()->SetLabelSize(0.035);
   functionBarrelBetaHcal->GetXaxis()->SetTitleSize(0.035);
   functionBarrelBetaHcal->GetXaxis()->SetTitleFont(42);
   functionBarrelBetaHcal->GetYaxis()->SetLabelFont(42);
   functionBarrelBetaHcal->GetYaxis()->SetLabelSize(0.035);
   functionBarrelBetaHcal->GetYaxis()->SetTitleSize(0.035);
   functionBarrelBetaHcal->GetYaxis()->SetTitleFont(42);
   functionBarrelBetaHcal->SetParameter(0,0.000578309);
   functionBarrelBetaHcal->SetParError(0,0);
   functionBarrelBetaHcal->SetParLimits(0,0.000578309,0.000578309);
   functionBarrelBetaHcal->SetParameter(1,-0.491991);
   functionBarrelBetaHcal->SetParError(1,0);
   functionBarrelBetaHcal->SetParLimits(1,-0.491991,-0.491991);
   functionBarrelBetaHcal->SetParameter(2,1.445);
   functionBarrelBetaHcal->SetParError(2,0);
   functionBarrelBetaHcal->SetParLimits(2,1.445,1.445);
   gre->GetListOfFunctions()->Add(functionBarrelBetaHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5381124,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaH_barrel->Modified();
   BetaH_barrel->cd();
   BetaH_barrel->SetSelected(BetaH_barrel);
   BetaH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/H_barrel/BetaCoefficientH_barrel.pdf");
   BetaH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/H_barrel/BetaCoefficientH_barrel.png");
   BetaH_barrel->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/H_barrel/BetaCoefficientH_barrel.gif");
}
