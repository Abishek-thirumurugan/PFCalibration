{
//=========Macro generated from canvas: BetaEH_endcap/Beta
//=========  (Tue Mar 24 16:32:47 2020) by ROOT version5.34/36
   TCanvas *BetaEH_endcap = new TCanvas("BetaEH_endcap", "Beta",60,83,500,300);
   BetaEH_endcap->Range(0,0,1,1);
   BetaEH_endcap->SetFillColor(0);
   BetaEH_endcap->SetBorderMode(0);
   BetaEH_endcap->SetBorderSize(2);
   BetaEH_endcap->SetLogx();
   BetaEH_endcap->SetGridx();
   BetaEH_endcap->SetGridy();
   BetaEH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (EH endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (EH_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.712193,-74.01691);
   gre->SetPointError(0,0.07454253,462.3771);
   gre->SetPoint(1,3.643391,-6.044735);
   gre->SetPointError(1,0.03648486,27.88681);
   gre->SetPoint(2,4.554249,-0.1132862);
   gre->SetPointError(2,0.02204904,0.2058824);
   gre->SetPoint(3,5.543512,-0.1083187);
   gre->SetPointError(3,0.01673941,0.439517);
   gre->SetPoint(4,6.551446,-0.1687486);
   gre->SetPointError(4,0.01274654,0.192446);
   gre->SetPoint(5,7.539064,-0.1819147);
   gre->SetPointError(5,0.01028105,0.06760941);
   gre->SetPoint(6,8.523497,-0.1569756);
   gre->SetPointError(6,0.008655721,0.05735596);
   gre->SetPoint(7,9.509328,-0.09964937);
   gre->SetPointError(7,0.00744059,0.05473579);
   gre->SetPoint(8,12.23497,-0.116146);
   gre->SetPointError(8,0.01091928,0.01196609);
   gre->SetPoint(9,16.12673,-0.06533434);
   gre->SetPointError(9,0.008613974,0.006609066);
   gre->SetPoint(10,20.07802,-0.02846055);
   gre->SetPointError(10,0.007400506,0.004454018);
   gre->SetPoint(11,24.053,0.009239711);
   gre->SetPointError(11,0.006758941,0.003240675);
   gre->SetPoint(12,28.04446,0.02776903);
   gre->SetPointError(12,0.006270106,0.002622497);
   gre->SetPoint(13,32.02337,0.05425759);
   gre->SetPointError(13,0.005977682,0.002238609);
   gre->SetPoint(14,36.02291,0.06478531);
   gre->SetPointError(14,0.005730955,0.001926512);
   gre->SetPoint(15,40.02463,0.06586546);
   gre->SetPointError(15,0.005629522,0.001719847);
   gre->SetPoint(16,44.00145,0.07197824);
   gre->SetPointError(16,0.005506383,0.001562885);
   gre->SetPoint(17,48.00375,0.07610936);
   gre->SetPointError(17,0.005438777,0.001450835);
   gre->SetPoint(18,52.00089,0.07416336);
   gre->SetPointError(18,0.005398216,0.001356949);
   gre->SetPoint(19,56.00689,0.0676169);
   gre->SetPointError(19,0.005365974,0.001258261);
   gre->SetPoint(20,60.00836,0.06700217);
   gre->SetPointError(20,0.005290681,0.001186786);
   gre->SetPoint(21,64.01113,0.06829946);
   gre->SetPointError(21,0.005274312,0.001139898);
   gre->SetPoint(22,68.00021,0.06325834);
   gre->SetPointError(22,0.005227237,0.001073865);
   gre->SetPoint(23,71.99626,0.06163913);
   gre->SetPointError(23,0.005201742,0.001029227);
   gre->SetPoint(24,76.00372,0.05823202);
   gre->SetPointError(24,0.005179273,0.0009810154);
   gre->SetPoint(25,80.00961,0.05758512);
   gre->SetPointError(25,0.005169816,0.0009442263);
   gre->SetPoint(26,84.00643,0.05935074);
   gre->SetPointError(26,0.00511765,0.0009100418);
   gre->SetPoint(27,88.0002,0.05751948);
   gre->SetPointError(27,0.005101281,0.0008723661);
   gre->SetPoint(28,91.99647,0.06123368);
   gre->SetPointError(28,0.005075398,0.0008468064);
   gre->SetPoint(29,96.01212,0.05552975);
   gre->SetPointError(29,0.005067282,0.0008262191);
   gre->SetPoint(30,98.9984,0.05474438);
   gre->SetPointError(30,0.003601194,0.001150068);
   gre->SetPoint(31,110.0455,0.05641999);
   gre->SetPointError(31,0.01122387,0.0003345963);
   gre->SetPoint(32,130.028,0.05660998);
   gre->SetPointError(32,0.011121,0.0003021274);
   gre->SetPoint(33,150.0057,0.05353525);
   gre->SetPointError(33,0.01104422,0.0002763708);
   gre->SetPoint(34,170.0177,0.05177181);
   gre->SetPointError(34,0.01098187,0.0002562596);
   gre->SetPoint(35,190.0002,0.05036158);
   gre->SetPointError(35,0.01092088,0.0002400644);
   gre->SetPoint(36,210.0247,0.04763548);
   gre->SetPointError(36,0.01333513,0.0002749907);
   gre->SetPoint(37,230.0192,0.0454017);
   gre->SetPointError(37,0.01323144,0.0002609537);
   gre->SetPoint(38,250.0115,0.04512844);
   gre->SetPointError(38,0.01323556,0.0002477186);
   gre->SetPoint(39,269.9988,0.04379426);
   gre->SetPointError(39,0.01317767,0.0002361974);
   gre->SetPoint(40,290.0162,0.04241014);
   gre->SetPointError(40,0.01315957,0.0002272542);
   gre->SetPoint(41,309.9933,0.04202473);
   gre->SetPointError(41,0.01312577,0.0002201573);
   gre->SetPoint(42,330.0233,0.04068738);
   gre->SetPointError(42,0.01308823,0.0002105244);
   gre->SetPoint(43,350.0162,0.04013335);
   gre->SetPointError(43,0.01303927,0.0002026903);
   gre->SetPoint(44,370.0012,0.03849492);
   gre->SetPointError(44,0.01298323,0.0001969469);
   gre->SetPoint(45,389.9866,0.03838404);
   gre->SetPointError(45,0.01298065,0.0001909144);
   gre->SetPoint(46,410.009,0.03788607);
   gre->SetPointError(46,0.01301422,0.0001865991);
   gre->SetPoint(47,430.0173,0.03655665);
   gre->SetPointError(47,0.01296712,0.0001817132);
   gre->SetPoint(48,450.036,0.03637586);
   gre->SetPointError(48,0.01294245,0.0001769548);
   gre->SetPoint(49,469.9894,0.03622712);
   gre->SetPointError(49,0.01291693,0.0001730573);
   gre->SetPoint(50,489.9704,0.03596536);
   gre->SetPointError(50,0.0129009,0.0001695477);
   
   TH1F *Graph_Graph4 = new TH1F("Graph_Graph4","Beta vs True Energy",100,0,538.7179);
   Graph_Graph4->SetMinimum(-628.8694);
   Graph_Graph4->SetMaximum(480.8356);
   Graph_Graph4->SetDirectory(0);
   Graph_Graph4->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph4->SetLineColor(ci);
   Graph_Graph4->GetXaxis()->SetLabelFont(42);
   Graph_Graph4->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleFont(42);
   Graph_Graph4->GetYaxis()->SetLabelFont(42);
   Graph_Graph4->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleFont(42);
   Graph_Graph4->GetZaxis()->SetLabelFont(42);
   Graph_Graph4->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph4);
   
   
   TF1 *functionEndcapBetaEcalHcal = new TF1("functionEndcapBetaEcalHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionEndcapBetaEcalHcal->SetFillColor(19);
   functionEndcapBetaEcalHcal->SetFillStyle(0);
   functionEndcapBetaEcalHcal->SetLineColor(2);
   functionEndcapBetaEcalHcal->SetLineWidth(2);
   functionEndcapBetaEcalHcal->SetChisquare(2126.546);
   functionEndcapBetaEcalHcal->SetNDF(51);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->SetParameter(0,0.0286728);
   functionEndcapBetaEcalHcal->SetParError(0,0);
   functionEndcapBetaEcalHcal->SetParLimits(0,0.0286728,0.0286728);
   functionEndcapBetaEcalHcal->SetParameter(1,0.0428134);
   functionEndcapBetaEcalHcal->SetParError(1,0);
   functionEndcapBetaEcalHcal->SetParLimits(1,0.0428134,0.0428134);
   functionEndcapBetaEcalHcal->SetParameter(2,263.774);
   functionEndcapBetaEcalHcal->SetParError(2,0);
   functionEndcapBetaEcalHcal->SetParLimits(2,263.774,263.774);
   gre->GetListOfFunctions()->Add(functionEndcapBetaEcalHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5381124,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaEH_endcap->Modified();
   BetaEH_endcap->cd();
   BetaEH_endcap->SetSelected(BetaEH_endcap);
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/EH_ec/BetaCoefficientEH_endcap.pdf");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/EH_ec/BetaCoefficientEH_endcap.png");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/EH_ec/BetaCoefficientEH_endcap.gif");
}
