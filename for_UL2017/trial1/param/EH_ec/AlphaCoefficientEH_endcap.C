{
//=========Macro generated from canvas: AlphaEH_endcap/Alpha
//=========  (Tue Mar 24 16:32:41 2020) by ROOT version5.34/36
   TCanvas *AlphaEH_endcap = new TCanvas("AlphaEH_endcap", "Alpha",40,63,500,300);
   AlphaEH_endcap->Range(0,0,1,1);
   AlphaEH_endcap->SetFillColor(0);
   AlphaEH_endcap->SetBorderMode(0);
   AlphaEH_endcap->SetBorderSize(2);
   AlphaEH_endcap->SetLogx();
   AlphaEH_endcap->SetGridx();
   AlphaEH_endcap->SetGridy();
   AlphaEH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Alpha parameter (EH endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#alpha coefficient (EH_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Alpha vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.712193,10.41379);
   gre->SetPointError(0,0.07454253,55.65252);
   gre->SetPoint(1,3.643391,0.02652157);
   gre->SetPointError(1,0.03648486,3.093724);
   gre->SetPoint(2,4.554249,-0.270698);
   gre->SetPointError(2,0.02204904,0.0715938);
   gre->SetPoint(3,5.543512,-0.1311606);
   gre->SetPointError(3,0.01673941,0.0633141);
   gre->SetPoint(4,6.551446,-0.04704978);
   gre->SetPointError(4,0.01274654,0.03503539);
   gre->SetPoint(5,7.539064,-0.03112577);
   gre->SetPointError(5,0.01028105,0.02127686);
   gre->SetPoint(6,8.523497,0.008154328);
   gre->SetPointError(6,0.008655721,0.01666514);
   gre->SetPoint(7,9.509328,0.00992466);
   gre->SetPointError(7,0.00744059,0.01343061);
   gre->SetPoint(8,12.23497,0.02440991);
   gre->SetPointError(8,0.01091928,0.00410344);
   gre->SetPoint(9,16.12673,0.02771122);
   gre->SetPointError(9,0.008613974,0.002643032);
   gre->SetPoint(10,20.07802,0.02937227);
   gre->SetPointError(10,0.007400506,0.001972399);
   gre->SetPoint(11,24.053,0.02402364);
   gre->SetPointError(11,0.006758941,0.001606846);
   gre->SetPoint(12,28.04446,0.02944772);
   gre->SetPointError(12,0.006270106,0.001380063);
   gre->SetPoint(13,32.02337,0.026654);
   gre->SetPointError(13,0.005977682,0.00122439);
   gre->SetPoint(14,36.02291,0.02825047);
   gre->SetPointError(14,0.005730955,0.001111128);
   gre->SetPoint(15,40.02463,0.02900608);
   gre->SetPointError(15,0.005629522,0.001026407);
   gre->SetPoint(16,44.00145,0.02648356);
   gre->SetPointError(16,0.005506383,0.0009612912);
   gre->SetPoint(17,48.00375,0.02522601);
   gre->SetPointError(17,0.005438777,0.0009071078);
   gre->SetPoint(18,52.00089,0.0246276);
   gre->SetPointError(18,0.005398216,0.0008640966);
   gre->SetPoint(19,56.00689,0.02456799);
   gre->SetPointError(19,0.005365974,0.0008253066);
   gre->SetPoint(20,60.00836,0.02669286);
   gre->SetPointError(20,0.005290681,0.0007923578);
   gre->SetPoint(21,64.01113,0.02573596);
   gre->SetPointError(21,0.005274312,0.000763345);
   gre->SetPoint(22,68.00021,0.02395694);
   gre->SetPointError(22,0.005227237,0.0007354125);
   gre->SetPoint(23,71.99626,0.02335345);
   gre->SetPointError(23,0.005201742,0.0007098132);
   gre->SetPoint(24,76.00372,0.02384339);
   gre->SetPointError(24,0.005179273,0.0006880745);
   gre->SetPoint(25,80.00961,0.0221292);
   gre->SetPointError(25,0.005169816,0.0006680245);
   gre->SetPoint(26,84.00643,0.02021262);
   gre->SetPointError(26,0.00511765,0.000648793);
   gre->SetPoint(27,88.0002,0.02082174);
   gre->SetPointError(27,0.005101281,0.0006300293);
   gre->SetPoint(28,91.99647,0.01720882);
   gre->SetPointError(28,0.005075398,0.0006129329);
   gre->SetPoint(29,96.01212,0.0201331);
   gre->SetPointError(29,0.005067282,0.0005993876);
   gre->SetPoint(30,98.9984,0.01943491);
   gre->SetPointError(30,0.003601194,0.0008420265);
   gre->SetPoint(31,110.0455,0.01634994);
   gre->SetPointError(31,0.01122387,0.0002482228);
   gre->SetPoint(32,130.028,0.01417559);
   gre->SetPointError(32,0.011121,0.000226902);
   gre->SetPoint(33,150.0057,0.01307981);
   gre->SetPointError(33,0.01104422,0.0002101593);
   gre->SetPoint(34,170.0177,0.01193815);
   gre->SetPointError(34,0.01098187,0.00019677);
   gre->SetPoint(35,190.0002,0.01111753);
   gre->SetPointError(35,0.01092088,0.0001857956);
   gre->SetPoint(36,210.0247,0.01068087);
   gre->SetPointError(36,0.01333513,0.000215414);
   gre->SetPoint(37,230.0192,0.01056082);
   gre->SetPointError(37,0.01323144,0.000205159);
   gre->SetPoint(38,250.0115,0.009443425);
   gre->SetPointError(38,0.01323556,0.0001968186);
   gre->SetPoint(39,269.9988,0.008762274);
   gre->SetPointError(39,0.01317767,0.0001887163);
   gre->SetPoint(40,290.0162,0.008746204);
   gre->SetPointError(40,0.01315957,0.0001822578);
   gre->SetPoint(41,309.9933,0.008032148);
   gre->SetPointError(41,0.01312577,0.0001757656);
   gre->SetPoint(42,330.0233,0.007544227);
   gre->SetPointError(42,0.01308823,0.0001704973);
   gre->SetPoint(43,350.0162,0.00711063);
   gre->SetPointError(43,0.01303927,0.0001650704);
   gre->SetPoint(44,370.0012,0.007451159);
   gre->SetPointError(44,0.01298323,0.0001600847);
   gre->SetPoint(45,389.9866,0.006572024);
   gre->SetPointError(45,0.01298065,0.0001560409);
   gre->SetPoint(46,410.009,0.006120016);
   gre->SetPointError(46,0.01301422,0.0001523729);
   gre->SetPoint(47,430.0173,0.005940711);
   gre->SetPointError(47,0.01296712,0.0001484579);
   gre->SetPoint(48,450.036,0.005514846);
   gre->SetPointError(48,0.01294245,0.000144775);
   gre->SetPoint(49,469.9894,0.004765722);
   gre->SetPointError(49,0.01291693,0.0001416196);
   gre->SetPoint(50,489.9704,0.004707776);
   gre->SetPointError(50,0.0129009,0.0001391835);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Alpha vs True Energy",100,0,538.7179);
   Graph_Graph3->SetMinimum(-56.36923);
   Graph_Graph3->SetMaximum(77.19682);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionEndcapAlphaEcalHcal = new TF1("functionEndcapAlphaEcalHcal","[0]+([1]*x^[2]*exp(-x))",2,500);
   functionEndcapAlphaEcalHcal->SetFillColor(19);
   functionEndcapAlphaEcalHcal->SetFillStyle(0);
   functionEndcapAlphaEcalHcal->SetLineColor(2);
   functionEndcapAlphaEcalHcal->SetLineWidth(2);
   functionEndcapAlphaEcalHcal->SetChisquare(12655.95);
   functionEndcapAlphaEcalHcal->SetNDF(51);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapAlphaEcalHcal->SetParameter(0,0.00871125);
   functionEndcapAlphaEcalHcal->SetParError(0,0);
   functionEndcapAlphaEcalHcal->SetParLimits(0,0.00871125,0.00871125);
   functionEndcapAlphaEcalHcal->SetParameter(1,-7.97617);
   functionEndcapAlphaEcalHcal->SetParError(1,0);
   functionEndcapAlphaEcalHcal->SetParLimits(1,-7.97617,-7.97617);
   functionEndcapAlphaEcalHcal->SetParameter(2,0.819605);
   functionEndcapAlphaEcalHcal->SetParError(2,0);
   functionEndcapAlphaEcalHcal->SetParLimits(2,0.819605,0.819605);
   gre->GetListOfFunctions()->Add(functionEndcapAlphaEcalHcal);
   gre->Draw("p");
   
   TF1 *faEtaBarrel = new TF1("faEtaBarrel","#alpha coef 4XY",1,1000);
   faEtaBarrel->SetFillColor(19);
   faEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   faEtaBarrel->SetLineColor(ci);
   faEtaBarrel->SetLineWidth(2);
   faEtaBarrel->SetLineStyle(2);
   faEtaBarrel->GetXaxis()->SetLabelFont(42);
   faEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleFont(42);
   faEtaBarrel->GetYaxis()->SetLabelFont(42);
   faEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleFont(42);
   faEtaBarrel->SetParameter(0,0.014664);
   faEtaBarrel->SetParError(0,0);
   faEtaBarrel->SetParLimits(0,0,0);
   faEtaBarrel->SetParameter(1,-0.0426776);
   faEtaBarrel->SetParError(1,0);
   faEtaBarrel->SetParLimits(1,0,0);
   faEtaBarrel->SetParameter(2,431.054);
   faEtaBarrel->SetParError(2,0);
   faEtaBarrel->SetParLimits(2,0,0);
   faEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Graph0","[0]+([1]*x^[2]*exp(-x))","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3484337,0.9293066,0.513012,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#alpha coef 4XY");
   //   pt->Draw();
   AlphaEH_endcap->Modified();
   AlphaEH_endcap->cd();
   AlphaEH_endcap->SetSelected(AlphaEH_endcap);
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/pdf/EH_ec/AlphaCoefficientEH_endcap.pdf");
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/png/EH_ec/AlphaCoefficientEH_endcap.png");
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2017/plots/without_overlay/param/gif/EH_ec/AlphaCoefficientEH_endcap.gif");
   
}
