{
//=========Macro generated from canvas: BetaEH_endcap/Beta
//=========  (Tue Mar 24 14:31:45 2020) by ROOT version5.34/36
   TCanvas *BetaEH_endcap = new TCanvas("BetaEH_endcap", "Beta",60,83,500,300);
   BetaEH_endcap->Range(0,0,1,1);
   BetaEH_endcap->SetFillColor(0);
   BetaEH_endcap->SetBorderMode(0);
   BetaEH_endcap->SetBorderSize(2);
   BetaEH_endcap->SetLogx();
   BetaEH_endcap->SetGridx();
   BetaEH_endcap->SetGridy();
   BetaEH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (EH Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (EH_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.788685,66.38503);
   gre->SetPointError(0,0.06527299,453.7499);
   gre->SetPoint(1,3.605367,-0.212422);
   gre->SetPointError(1,0.04652519,1.490281);
   gre->SetPoint(2,4.597438,-0.1387172);
   gre->SetPointError(2,0.02779289,0.2172636);
   gre->SetPoint(3,5.557822,-0.3216223);
   gre->SetPointError(3,0.02098754,0.3162538);
   gre->SetPoint(4,6.522429,-0.1245787);
   gre->SetPointError(4,0.01545649,0.07190037);
   gre->SetPoint(5,7.535319,-0.1538365);
   gre->SetPointError(5,0.01195474,0.06622329);
   gre->SetPoint(6,8.519779,-0.1114574);
   gre->SetPointError(6,0.010123,0.05470313);
   gre->SetPoint(7,9.535307,-0.09243312);
   gre->SetPointError(7,0.008509852,0.03777152);
   gre->SetPoint(8,12.25099,-0.06418795);
   gre->SetPointError(8,0.01239583,0.009338277);
   gre->SetPoint(9,16.1375,-0.01192277);
   gre->SetPointError(9,0.009408501,0.005138668);
   gre->SetPoint(10,20.0747,0.002766561);
   gre->SetPointError(10,0.007936801,0.003313729);
   gre->SetPoint(11,24.06786,0.02309996);
   gre->SetPointError(11,0.007123721,0.002529101);
   gre->SetPoint(12,28.04178,0.0418824);
   gre->SetPointError(12,0.006633658,0.002059065);
   gre->SetPoint(13,32.03651,0.05197905);
   gre->SetPointError(13,0.006238985,0.00175889);
   gre->SetPoint(14,36.02271,0.06714108);
   gre->SetPointError(14,0.005956399,0.00153999);
   gre->SetPoint(15,40.01633,0.0687793);
   gre->SetPointError(15,0.005851833,0.001396473);
   gre->SetPoint(16,44.01917,0.06306802);
   gre->SetPointError(16,0.005709644,0.001251754);
   gre->SetPoint(17,48.01177,0.06682534);
   gre->SetPointError(17,0.005598677,0.00116373);
   gre->SetPoint(18,52.00419,0.06401411);
   gre->SetPointError(18,0.005559992,0.001097879);
   gre->SetPoint(19,56.00115,0.0573546);
   gre->SetPointError(19,0.005506589,0.001027016);
   gre->SetPoint(20,59.99987,0.05900761);
   gre->SetPointError(20,0.005461122,0.0009733896);
   gre->SetPoint(21,64.01931,0.0608566);
   gre->SetPointError(21,0.005409482,0.0009262528);
   gre->SetPoint(22,68.00296,0.05525066);
   gre->SetPointError(22,0.005387583,0.0008875298);
   gre->SetPoint(23,71.99771,0.05686989);
   gre->SetPointError(23,0.005333063,0.0008475751);
   gre->SetPoint(24,76.00207,0.0524901);
   gre->SetPointError(24,0.005346912,0.0008187306);
   gre->SetPoint(25,79.99609,0.05389033);
   gre->SetPointError(25,0.005302735,0.000794891);
   gre->SetPoint(26,84.00051,0.05560322);
   gre->SetPointError(26,0.00527328,0.0007629673);
   gre->SetPoint(27,87.99755,0.05501641);
   gre->SetPointError(27,0.005293033,0.0007465702);
   gre->SetPoint(28,92.00906,0.05541562);
   gre->SetPointError(28,0.005230346,0.0007261132);
   gre->SetPoint(29,96.00841,0.05486646);
   gre->SetPointError(29,0.005249549,0.0007046217);
   gre->SetPoint(30,98.99943,0.05622614);
   gre->SetPointError(30,0.003702398,0.0009925804);
   gre->SetPoint(31,110.0236,0.05861897);
   gre->SetPointError(31,0.01163983,0.000294036);
   gre->SetPoint(32,130.0191,0.05974023);
   gre->SetPointError(32,0.0115372,0.0002701193);
   gre->SetPoint(33,150.0144,0.05906676);
   gre->SetPointError(33,0.01150324,0.0002507714);
   gre->SetPoint(34,170.0285,0.05742551);
   gre->SetPointError(34,0.01145578,0.0002348517);
   gre->SetPoint(35,190.0147,0.05669081);
   gre->SetPointError(35,0.01141191,0.0002207554);
   gre->SetPoint(36,209.9975,0.05546361);
   gre->SetPointError(36,0.01358764,0.0002496837);
   gre->SetPoint(37,229.9973,0.05499633);
   gre->SetPointError(37,0.01354128,0.0002366019);
   gre->SetPoint(38,250.007,0.05437047);
   gre->SetPointError(38,0.01349912,0.0002262821);
   gre->SetPoint(39,269.9709,0.05410983);
   gre->SetPointError(39,0.01349284,0.0002179278);
   gre->SetPoint(40,290.0089,0.05337065);
   gre->SetPointError(40,0.01349734,0.0002091625);
   gre->SetPoint(41,310.0129,0.05267816);
   gre->SetPointError(41,0.01342835,0.0002017274);
   gre->SetPoint(42,330.0108,0.05256581);
   gre->SetPointError(42,0.01337671,0.0001951429);
   gre->SetPoint(43,349.9999,0.05222183);
   gre->SetPointError(43,0.01334727,0.0001886672);
   gre->SetPoint(44,370.0161,0.0522403);
   gre->SetPointError(44,0.01334145,0.0001845157);
   gre->SetPoint(45,389.9973,0.05183027);
   gre->SetPointError(45,0.01327821,0.0001779824);
   gre->SetPoint(46,410.0209,0.05109516);
   gre->SetPointError(46,0.01330169,0.0001737793);
   gre->SetPoint(47,430.0013,0.05074666);
   gre->SetPointError(47,0.01327869,0.0001699364);
   gre->SetPoint(48,450.0199,0.05052765);
   gre->SetPointError(48,0.01325471,0.0001656136);
   gre->SetPoint(49,469.9984,0.04958231);
   gre->SetPointError(49,0.01324044,0.0001614465);
   gre->SetPoint(50,489.9624,0.04933697);
   gre->SetPointError(50,0.01322701,0.0001590662);
   
   TH1F *Graph_Graph4 = new TH1F("Graph_Graph4","Beta vs True Energy",100,0,538.7008);
   Graph_Graph4->SetMinimum(-478.1149);
   Graph_Graph4->SetMaximum(610.8849);
   Graph_Graph4->SetDirectory(0);
   Graph_Graph4->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph4->SetLineColor(ci);
   Graph_Graph4->GetXaxis()->SetLabelFont(42);
   Graph_Graph4->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleFont(42);
   Graph_Graph4->GetYaxis()->SetLabelFont(42);
   Graph_Graph4->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleFont(42);
   Graph_Graph4->GetZaxis()->SetLabelFont(42);
   Graph_Graph4->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph4);
   
   
   TF1 *functionEndcapBetaEcalHcal = new TF1("functionEndcapBetaEcalHcal","[0]+[1]*x^[3]*exp(-x/[2])",2,500);
   functionEndcapBetaEcalHcal->SetFillColor(19);
   functionEndcapBetaEcalHcal->SetFillStyle(0);
   functionEndcapBetaEcalHcal->SetLineColor(2);
   functionEndcapBetaEcalHcal->SetLineWidth(2);
   functionEndcapBetaEcalHcal->SetChisquare(1357.911);
   functionEndcapBetaEcalHcal->SetNDF(51);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->SetParameter(0,0.0476086);
   functionEndcapBetaEcalHcal->SetParError(0,0);
   functionEndcapBetaEcalHcal->SetParLimits(0,0.0476086,0.0476086);
   functionEndcapBetaEcalHcal->SetParameter(1,0.000573041);
   functionEndcapBetaEcalHcal->SetParError(1,0);
   functionEndcapBetaEcalHcal->SetParLimits(1,0.000573041,0.000573041);
   functionEndcapBetaEcalHcal->SetParameter(2,133.97);
   functionEndcapBetaEcalHcal->SetParError(2,0);
   functionEndcapBetaEcalHcal->SetParLimits(2,133.97,133.97);
   functionEndcapBetaEcalHcal->SetParameter(3,0.798439);
   functionEndcapBetaEcalHcal->SetParError(3,0);
   functionEndcapBetaEcalHcal->SetParLimits(3,0.798439,0.798439);
   gre->GetListOfFunctions()->Add(functionEndcapBetaEcalHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*(x^[3])*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3363855,0.9293066,0.4989558,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaEH_endcap->Modified();
   BetaEH_endcap->cd();
   BetaEH_endcap->SetSelected(BetaEH_endcap);
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/pdf/EH_ec/BetaCoefficientEH_endcap.pdf");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/png/EH_ec/BetaCoefficientEH_endcap.png");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/gif/EH_ec/BetaCoefficientEH_endcap.gif");
}
