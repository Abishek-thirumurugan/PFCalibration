{
//=========Macro generated from canvas: BetaH_endcap/Beta
//=========  (Tue Mar 24 14:34:54 2020) by ROOT version5.34/36
   TCanvas *BetaH_endcap = new TCanvas("BetaH_endcap", "Beta",40,63,500,300);
   BetaH_endcap->Range(0,0,1,1);
   BetaH_endcap->SetFillColor(0);
   BetaH_endcap->SetBorderMode(0);
   BetaH_endcap->SetBorderSize(2);
   BetaH_endcap->SetLogx();
   BetaH_endcap->SetGridx();
   BetaH_endcap->SetGridy();
   BetaH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (H Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (H_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.602569,0.03522436);
   gre->SetPointError(0,0.007873956,0.1209439);
   gre->SetPoint(1,3.550181,0.06537119);
   gre->SetPointError(1,0.005138484,0.02669425);
   gre->SetPoint(2,4.529239,0.07160044);
   gre->SetPointError(2,0.003982,0.01453291);
   gre->SetPoint(3,5.521373,0.07197259);
   gre->SetPointError(3,0.003360596,0.01033528);
   gre->SetPoint(4,6.511341,0.1067204);
   gre->SetPointError(4,0.003113378,0.008673933);
   gre->SetPoint(5,7.509614,0.1013026);
   gre->SetPointError(5,0.002969474,0.007230783);
   gre->SetPoint(6,8.506438,0.1099816);
   gre->SetPointError(6,0.00287868,0.006455959);
   gre->SetPoint(7,9.501866,0.1191694);
   gre->SetPointError(7,0.002753088,0.005737521);
   gre->SetPoint(8,12.0342,0.1348223);
   gre->SetPointError(8,0.005301253,0.002354084);
   gre->SetPoint(9,15.99735,0.1342623);
   gre->SetPointError(9,0.005190357,0.001969261);
   gre->SetPoint(10,20.00707,0.1356274);
   gre->SetPointError(10,0.005169605,0.001736992);
   gre->SetPoint(11,23.99024,0.1234955);
   gre->SetPointError(11,0.005225278,0.001580443);
   gre->SetPoint(12,27.98257,0.1201472);
   gre->SetPointError(12,0.005236696,0.00145503);
   gre->SetPoint(13,31.99919,0.1127959);
   gre->SetPointError(13,0.005300195,0.001368715);
   gre->SetPoint(14,35.99285,0.1041631);
   gre->SetPointError(14,0.005355479,0.001282607);
   gre->SetPoint(15,39.99938,0.1004223);
   gre->SetPointError(15,0.005390253,0.001218719);
   gre->SetPoint(16,43.99796,0.09612167);
   gre->SetPointError(16,0.005418474,0.001170387);
   gre->SetPoint(17,47.99544,0.09400942);
   gre->SetPointError(17,0.005447857,0.001119216);
   gre->SetPoint(18,52.00443,0.09060073);
   gre->SetPointError(18,0.005465856,0.001069611);
   gre->SetPoint(19,56.00452,0.08340668);
   gre->SetPointError(19,0.005500864,0.001037504);
   gre->SetPoint(20,59.99369,0.08492522);
   gre->SetPointError(20,0.005548649,0.0009998197);
   gre->SetPoint(21,63.99817,0.08129552);
   gre->SetPointError(21,0.005544041,0.0009755009);
   gre->SetPoint(22,68.00208,0.0825283);
   gre->SetPointError(22,0.005573043,0.0009434527);
   gre->SetPoint(23,72.00272,0.08007075);
   gre->SetPointError(23,0.005617726,0.0009227448);
   gre->SetPoint(24,75.98307,0.07810251);
   gre->SetPointError(24,0.005604676,0.0008917645);
   gre->SetPoint(25,79.9897,0.07545367);
   gre->SetPointError(25,0.005594404,0.000872118);
   gre->SetPoint(26,83.99636,0.07580824);
   gre->SetPointError(26,0.005635906,0.0008522892);
   gre->SetPoint(27,88.00438,0.07469256);
   gre->SetPointError(27,0.005664851,0.0008351608);
   gre->SetPoint(28,92.011,0.07293089);
   gre->SetPointError(28,0.005676845,0.0008200208);
   gre->SetPoint(29,95.99475,0.07196182);
   gre->SetPointError(29,0.00567274,0.0007937432);
   gre->SetPoint(30,99.00929,0.07339391);
   gre->SetPointError(30,0.004000374,0.001103864);
   gre->SetPoint(31,102.0013,0.07190975);
   gre->SetPointError(31,0.005700025,0.000775908);
   gre->SetPoint(32,121.9966,0.06827078);
   gre->SetPointError(32,0.005708232,0.0007120507);
   gre->SetPoint(33,141.9968,0.06544693);
   gre->SetPointError(33,0.00570822,0.0006637696);
   gre->SetPoint(34,162.0032,0.06599593);
   gre->SetPointError(34,0.005781625,0.000627218);
   gre->SetPoint(35,182.0016,0.06272401);
   gre->SetPointError(35,0.00580109,0.0005865446);
   gre->SetPoint(36,202.0021,0.05983348);
   gre->SetPointError(36,0.006973155,0.0006742433);
   gre->SetPoint(37,221.9994,0.05814704);
   gre->SetPointError(37,0.007078838,0.0006457258);
   gre->SetPoint(38,241.9987,0.05787484);
   gre->SetPointError(38,0.007163419,0.0006262421);
   gre->SetPoint(39,262.0018,0.05650327);
   gre->SetPointError(39,0.007127108,0.0005995148);
   gre->SetPoint(40,281.9859,0.05665951);
   gre->SetPointError(40,0.007141492,0.0005804294);
   gre->SetPoint(41,302.0125,0.05555783);
   gre->SetPointError(41,0.007203326,0.0005623225);
   gre->SetPoint(42,322.005,0.0556678);
   gre->SetPointError(42,0.007221669,0.0005464468);
   gre->SetPoint(43,341.9883,0.05485832);
   gre->SetPointError(43,0.007283653,0.0005258325);
   gre->SetPoint(44,362.0054,0.05447827);
   gre->SetPointError(44,0.007310873,0.0005159796);
   gre->SetPoint(45,381.9974,0.05452166);
   gre->SetPointError(45,0.007328263,0.0005055984);
   gre->SetPoint(46,402.0076,0.05334735);
   gre->SetPointError(46,0.00735313,0.0004940807);
   gre->SetPoint(47,422.0124,0.05392575);
   gre->SetPointError(47,0.007327342,0.0004779907);
   gre->SetPoint(48,442.0072,0.05272201);
   gre->SetPointError(48,0.007481331,0.0004767367);
   gre->SetPoint(49,461.9961,0.05313308);
   gre->SetPointError(49,0.007446997,0.0004643948);
   gre->SetPoint(50,482.0068,0.05170933);
   gre->SetPointError(50,0.007459948,0.0004552186);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Beta vs True Energy",100,0,529.9562);
   Graph_Graph3->SetMinimum(-0.1099084);
   Graph_Graph3->SetMaximum(0.1803571);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionEndcapBetaHcal = new TF1("functionEndcapBetaHcal","[0]+[1]*x*exp(-x/[2])",2,500);
   functionEndcapBetaHcal->SetFillColor(19);
   functionEndcapBetaHcal->SetFillStyle(0);
   functionEndcapBetaHcal->SetLineColor(2);
   functionEndcapBetaHcal->SetLineWidth(2);
   functionEndcapBetaHcal->SetChisquare(1718.163);
   functionEndcapBetaHcal->SetNDF(51);
   functionEndcapBetaHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->SetParameter(0,0.0564225);
   functionEndcapBetaHcal->SetParError(0,0);
   functionEndcapBetaHcal->SetParLimits(0,0.0564225,0.0564225);
   functionEndcapBetaHcal->SetParameter(1,0.00725947);
   functionEndcapBetaHcal->SetParError(1,0);
   functionEndcapBetaHcal->SetParLimits(1,0.00725947,0.00725947);
   functionEndcapBetaHcal->SetParameter(2,23.1278);
   functionEndcapBetaHcal->SetParError(2,0);
   functionEndcapBetaHcal->SetParLimits(2,23.1278,23.1278);
   gre->GetListOfFunctions()->Add(functionEndcapBetaHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("histoCG","[0]+[1]*x*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3614859,0.9293066,0.5240562,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   // pt->Draw();
   BetaH_endcap->Modified();
   BetaH_endcap->cd();
   BetaH_endcap->SetSelected(BetaH_endcap);
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/pdf/H_ec/BetaCoefficientH_endcap.pdf");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/png/H_ec/BetaCoefficientH_endcap.png");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2016/plots/without_overlay/param/gif/H_ec/BetaCoefficientH_endcap.gif");
}
