{
//=========Macro generated from canvas: BetaEH_endcap/Beta
//=========  (Tue Mar 24 15:13:09 2020) by ROOT version5.34/36
   TCanvas *BetaEH_endcap = new TCanvas("BetaEH_endcap", "Beta",60,83,500,300);
   BetaEH_endcap->Range(0,0,1,1);
   BetaEH_endcap->SetFillColor(0);
   BetaEH_endcap->SetBorderMode(0);
   BetaEH_endcap->SetBorderSize(2);
   BetaEH_endcap->SetLogx();
   BetaEH_endcap->SetGridx();
   BetaEH_endcap->SetGridy();
   BetaEH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (EH Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (EH_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.868847,22.37648);
   gre->SetPointError(0,0.03551136,71.84729);
   gre->SetPoint(1,3.580942,-0.241877);
   gre->SetPointError(1,0.02306831,1.004263);
   gre->SetPoint(2,4.571869,2.687214);
   gre->SetPointError(2,0.01330008,4.869093);
   gre->SetPoint(3,5.544569,-0.1884223);
   gre->SetPointError(3,0.009753515,0.2752399);
   gre->SetPoint(4,6.521794,-0.2371846);
   gre->SetPointError(4,0.007806684,0.1060992);
   gre->SetPoint(5,7.525753,-0.1674123);
   gre->SetPointError(5,0.006604022,0.06355891);
   gre->SetPoint(6,8.518669,-0.1490182);
   gre->SetPointError(6,0.005678334,0.0491083);
   gre->SetPoint(7,9.517589,-0.1707184);
   gre->SetPointError(7,0.004982581,0.03313619);
   gre->SetPoint(8,12.16754,-0.0963375);
   gre->SetPointError(8,0.008359134,0.009291787);
   gre->SetPoint(9,16.09763,-0.05361137);
   gre->SetPointError(9,0.007015352,0.005208384);
   gre->SetPoint(10,20.05531,-0.02235895);
   gre->SetPointError(10,0.006346656,0.003613316);
   gre->SetPoint(11,24.03809,0.01080979);
   gre->SetPointError(11,0.0059131,0.002876374);
   gre->SetPoint(12,28.0202,0.02947021);
   gre->SetPointError(12,0.005658194,0.002407802);
   gre->SetPoint(13,32.01793,0.04873784);
   gre->SetPointError(13,0.005486624,0.002088671);
   gre->SetPoint(14,36.01178,0.05109726);
   gre->SetPointError(14,0.005415194,0.001834492);
   gre->SetPoint(15,40.01372,0.05108374);
   gre->SetPointError(15,0.005300991,0.001624059);
   gre->SetPoint(16,44.00172,0.05555875);
   gre->SetPointError(16,0.00526296,0.001489965);
   gre->SetPoint(17,48.01434,0.04693903);
   gre->SetPointError(17,0.005240223,0.001378449);
   gre->SetPoint(18,51.99754,0.04731399);
   gre->SetPointError(18,0.00517456,0.001278821);
   gre->SetPoint(19,56.00343,0.05096849);
   gre->SetPointError(19,0.005141137,0.001200915);
   gre->SetPoint(20,59.99731,0.04646724);
   gre->SetPointError(20,0.005142691,0.001146442);
   gre->SetPoint(21,64.01828,0.04178816);
   gre->SetPointError(21,0.005148586,0.001089223);
   gre->SetPoint(22,68.00564,0.04675182);
   gre->SetPointError(22,0.005095266,0.001038646);
   gre->SetPoint(23,71.99719,0.04357022);
   gre->SetPointError(23,0.005088992,0.000978174);
   gre->SetPoint(24,76.00001,0.04240017);
   gre->SetPointError(24,0.005092606,0.0009428808);
   gre->SetPoint(25,80.00308,0.04260822);
   gre->SetPointError(25,0.005016904,0.0009065946);
   gre->SetPoint(26,84.0067,0.03969587);
   gre->SetPointError(26,0.005017976,0.0008783872);
   gre->SetPoint(27,87.99607,0.04153619);
   gre->SetPointError(27,0.005007514,0.0008432757);
   gre->SetPoint(28,92.00457,0.04196158);
   gre->SetPointError(28,0.004979375,0.000819964);
   gre->SetPoint(29,96.00963,0.04448785);
   gre->SetPointError(29,0.004960239,0.0007943555);
   gre->SetPoint(30,99.00205,0.04366463);
   gre->SetPointError(30,0.00352299,0.001122393);
   gre->SetPoint(31,110.039,0.0431274);
   gre->SetPointError(31,0.01101081,0.0003265872);
   gre->SetPoint(32,130.0081,0.04185531);
   gre->SetPointError(32,0.0108649,0.0002948544);
   gre->SetPoint(33,150.0319,0.03856569);
   gre->SetPointError(33,0.01084019,0.0002702843);
   gre->SetPoint(34,170.0183,0.03461837);
   gre->SetPointError(34,0.01076453,0.000249847);
   gre->SetPoint(35,190.015,0.03232191);
   gre->SetPointError(35,0.01072684,0.0002340831);
   gre->SetPoint(36,210.0266,0.02359171);
   gre->SetPointError(36,0.01321124,0.0002711635);
   gre->SetPoint(37,230.0144,0.02769051);
   gre->SetPointError(37,0.01313158,0.0002561695);
   gre->SetPoint(38,250.0235,0.02670676);
   gre->SetPointError(38,0.01311878,0.000246013);
   gre->SetPoint(39,269.9892,0.02473404);
   gre->SetPointError(39,0.01303529,0.0002339216);
   gre->SetPoint(40,290.0302,0.02231507);
   gre->SetPointError(40,0.01304134,0.0002241007);
   gre->SetPoint(41,310.0123,0.02245745);
   gre->SetPointError(41,0.01298709,0.0002150343);
   gre->SetPoint(42,330.0113,0.02154862);
   gre->SetPointError(42,0.01294294,0.0002079554);
   gre->SetPoint(43,350.0058,0.02108896);
   gre->SetPointError(43,0.01295883,0.0002024044);
   gre->SetPoint(44,369.993,0.01976506);
   gre->SetPointError(44,0.01294593,0.0001949744);
   gre->SetPoint(45,390.0138,0.0190767);
   gre->SetPointError(45,0.01291366,0.0001900002);
   gre->SetPoint(46,410.0022,0.01859767);
   gre->SetPointError(46,0.01289372,0.0001842696);
   gre->SetPoint(47,429.9912,0.01788968);
   gre->SetPointError(47,0.01286417,0.0001795473);
   gre->SetPoint(48,449.9932,0.01703316);
   gre->SetPointError(48,0.01287348,0.0001765933);
   gre->SetPoint(49,470.0006,0.01704513);
   gre->SetPointError(49,0.01284114,0.0001718102);
   gre->SetPoint(50,489.9653,0.01631825);
   gre->SetPointError(50,0.01279666,0.0001678257);
   
   TH1F *Graph_Graph4 = new TH1F("Graph_Graph4","Beta vs True Energy",100,0,538.6925);
   Graph_Graph4->SetMinimum(-63.84027);
   Graph_Graph4->SetMaximum(108.5932);
   Graph_Graph4->SetDirectory(0);
   Graph_Graph4->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph4->SetLineColor(ci);
   Graph_Graph4->GetXaxis()->SetLabelFont(42);
   Graph_Graph4->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetXaxis()->SetTitleFont(42);
   Graph_Graph4->GetYaxis()->SetLabelFont(42);
   Graph_Graph4->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetYaxis()->SetTitleFont(42);
   Graph_Graph4->GetZaxis()->SetLabelFont(42);
   Graph_Graph4->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph4->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph4);
   
   
   TF1 *functionEndcapBetaEcalHcal = new TF1("functionEndcapBetaEcalHcal","[0]+((([1]+([2]/sqrt(x)))*exp(-(x^[4]/[3]))))",2,500);
   functionEndcapBetaEcalHcal->SetFillColor(19);
   functionEndcapBetaEcalHcal->SetFillStyle(0);
   functionEndcapBetaEcalHcal->SetLineColor(2);
   functionEndcapBetaEcalHcal->SetLineWidth(2);
   functionEndcapBetaEcalHcal->SetChisquare(1139.855);
   functionEndcapBetaEcalHcal->SetNDF(51);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaEcalHcal->SetParameter(0,0.00991715);
   functionEndcapBetaEcalHcal->SetParError(0,0);
   functionEndcapBetaEcalHcal->SetParLimits(0,0.00991715,0.00991715);
   functionEndcapBetaEcalHcal->SetParameter(1,0.78156);
   functionEndcapBetaEcalHcal->SetParError(1,0);
   functionEndcapBetaEcalHcal->SetParLimits(1,0.78156,0.78156);
   functionEndcapBetaEcalHcal->SetParameter(2,-3.73765);
   functionEndcapBetaEcalHcal->SetParError(2,0);
   functionEndcapBetaEcalHcal->SetParLimits(2,-3.73765,-3.73765);
   functionEndcapBetaEcalHcal->SetParameter(3,2.35045);
   functionEndcapBetaEcalHcal->SetParError(3,0);
   functionEndcapBetaEcalHcal->SetParLimits(3,2.35045,2.35045);
   functionEndcapBetaEcalHcal->SetParameter(4,0.382723);
   functionEndcapBetaEcalHcal->SetParError(4,0);
   functionEndcapBetaEcalHcal->SetParLimits(4,0.382723,0.382723);
   gre->GetListOfFunctions()->Add(functionEndcapBetaEcalHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Graph0","[0]+((([1]+([2]/sqrt(x)))*exp(-(x^[4]/[3]))))","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.2299598,0.9293066,0.3925301,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaEH_endcap->Modified();
   BetaEH_endcap->cd();
   BetaEH_endcap->SetSelected(BetaEH_endcap);
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/pdf/EH_ec/BetaCoefficientEH_endcap.pdf");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/png/EH_ec/BetaCoefficientEH_endcap.png");
   BetaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/gif/EH_ec/BetaCoefficientEH_endcap.gif");
}
