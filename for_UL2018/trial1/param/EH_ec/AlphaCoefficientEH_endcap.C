{
//=========Macro generated from canvas: AlphaEH_endcap/Alpha
//=========  (Tue Mar 24 15:13:03 2020) by ROOT version5.34/36
   TCanvas *AlphaEH_endcap = new TCanvas("AlphaEH_endcap", "Alpha",40,63,500,300);
   AlphaEH_endcap->Range(0,0,1,1);
   AlphaEH_endcap->SetFillColor(0);
   AlphaEH_endcap->SetBorderMode(0);
   AlphaEH_endcap->SetBorderSize(2);
   AlphaEH_endcap->SetLogx();
   AlphaEH_endcap->SetGridx();
   AlphaEH_endcap->SetGridy();
   AlphaEH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Alpha parameter (EH Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#alpha coefficient (EH_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Alpha vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.868847,-2.922412);
   gre->SetPointError(0,0.03551136,8.398912);
   gre->SetPoint(1,3.580942,-0.2755475);
   gre->SetPointError(1,0.02306831,0.2429972);
   gre->SetPoint(2,4.571869,-0.4225989);
   gre->SetPointError(2,0.01330008,0.5344194);
   gre->SetPoint(3,5.544569,-0.05724255);
   gre->SetPointError(3,0.009753515,0.03866824);
   gre->SetPoint(4,6.521794,0.01371491);
   gre->SetPointError(4,0.007806684,0.02076311);
   gre->SetPoint(5,7.525753,0.01382559);
   gre->SetPointError(5,0.006604022,0.01420057);
   gre->SetPoint(6,8.518669,0.03653937);
   gre->SetPointError(6,0.005678334,0.01124542);
   gre->SetPoint(7,9.517589,0.04366041);
   gre->SetPointError(7,0.004982581,0.008878861);
   gre->SetPoint(8,12.16754,0.03175787);
   gre->SetPointError(8,0.008359134,0.003036792);
   gre->SetPoint(9,16.09763,0.02845645);
   gre->SetPointError(9,0.007015352,0.002088283);
   gre->SetPoint(10,20.05531,0.03355493);
   gre->SetPointError(10,0.006346656,0.001652009);
   gre->SetPoint(11,24.03809,0.0317074);
   gre->SetPointError(11,0.0059131,0.001391646);
   gre->SetPoint(12,28.0202,0.03301139);
   gre->SetPointError(12,0.005658194,0.001232251);
   gre->SetPoint(13,32.01793,0.02963643);
   gre->SetPointError(13,0.005486624,0.001116545);
   gre->SetPoint(14,36.01178,0.03158025);
   gre->SetPointError(14,0.005415194,0.001034124);
   gre->SetPoint(15,40.01372,0.03270793);
   gre->SetPointError(15,0.005300991,0.0009634303);
   gre->SetPoint(16,44.00172,0.03045062);
   gre->SetPointError(16,0.00526296,0.0009128116);
   gre->SetPoint(17,48.01434,0.03509301);
   gre->SetPointError(17,0.005240223,0.0008717777);
   gre->SetPoint(18,51.99754,0.03212116);
   gre->SetPointError(18,0.00517456,0.0008304571);
   gre->SetPoint(19,56.00343,0.03176942);
   gre->SetPointError(19,0.005141137,0.0007985607);
   gre->SetPoint(20,59.99731,0.03208338);
   gre->SetPointError(20,0.005142691,0.0007719573);
   gre->SetPoint(21,64.01828,0.03291);
   gre->SetPointError(21,0.005148586,0.0007457845);
   gre->SetPoint(22,68.00564,0.02781513);
   gre->SetPointError(22,0.005095266,0.0007170503);
   gre->SetPoint(23,71.99719,0.0268322);
   gre->SetPointError(23,0.005088992,0.0006961232);
   gre->SetPoint(24,76.00001,0.02701678);
   gre->SetPointError(24,0.005092606,0.0006762709);
   gre->SetPoint(25,80.00308,0.02529262);
   gre->SetPointError(25,0.005016904,0.0006526134);
   gre->SetPoint(26,84.0067,0.02422729);
   gre->SetPointError(26,0.005017976,0.0006365693);
   gre->SetPoint(27,87.99607,0.02377457);
   gre->SetPointError(27,0.005007514,0.0006207424);
   gre->SetPoint(28,92.00457,0.02289158);
   gre->SetPointError(28,0.004979375,0.0006039148);
   gre->SetPoint(29,96.00963,0.0207567);
   gre->SetPointError(29,0.004960239,0.0005895446);
   gre->SetPoint(30,99.00205,0.02141189);
   gre->SetPointError(30,0.00352299,0.0008234205);
   gre->SetPoint(31,110.039,0.0191529);
   gre->SetPointError(31,0.01101081,0.0002444527);
   gre->SetPoint(32,130.0081,0.01764712);
   gre->SetPointError(32,0.0108649,0.0002229106);
   gre->SetPoint(33,150.0319,0.01633749);
   gre->SetPointError(33,0.01084019,0.0002071095);
   gre->SetPoint(34,170.0183,0.01672518);
   gre->SetPointError(34,0.01076453,0.0001936716);
   gre->SetPoint(35,190.015,0.01578612);
   gre->SetPointError(35,0.01072684,0.0001831531);
   gre->SetPoint(36,210.0266,0.01758765);
   gre->SetPointError(36,0.01321124,0.0002145419);
   gre->SetPoint(37,230.0144,0.01491243);
   gre->SetPointError(37,0.01313158,0.0002044474);
   gre->SetPoint(38,250.0235,0.01383063);
   gre->SetPointError(38,0.01311878,0.0001962139);
   gre->SetPoint(39,269.9892,0.01418399);
   gre->SetPointError(39,0.01303529,0.0001880166);
   gre->SetPoint(40,290.0302,0.01363408);
   gre->SetPointError(40,0.01304134,0.0001812153);
   gre->SetPoint(41,310.0123,0.01253775);
   gre->SetPointError(41,0.01298709,0.0001751171);
   gre->SetPoint(42,330.0113,0.01190644);
   gre->SetPointError(42,0.01294294,0.0001694375);
   gre->SetPoint(43,350.0058,0.01148078);
   gre->SetPointError(43,0.01295883,0.0001648262);
   gre->SetPoint(44,369.993,0.0109197);
   gre->SetPointError(44,0.01294593,0.0001601233);
   gre->SetPoint(45,390.0138,0.01061891);
   gre->SetPointError(45,0.01291366,0.0001557925);
   gre->SetPoint(46,410.0022,0.009758241);
   gre->SetPointError(46,0.01289372,0.0001514531);
   gre->SetPoint(47,429.9912,0.009369039);
   gre->SetPointError(47,0.01286417,0.0001478707);
   gre->SetPoint(48,449.9932,0.008802151);
   gre->SetPointError(48,0.01287348,0.0001448038);
   gre->SetPoint(49,470.0006,0.008251854);
   gre->SetPointError(49,0.01284114,0.000141377);
   gre->SetPoint(50,489.9653,0.00822111);
   gre->SetPointError(50,0.01279666,0.0001386721);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Alpha vs True Energy",100,0,538.6925);
   Graph_Graph3->SetMinimum(-13.00111);
   Graph_Graph3->SetMaximum(7.156283);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionEndcapAlphaEcalHcal = new TF1("functionEndcapAlphaEcalHcal","[0]+([1]*x^[2]*exp(-x))",2,500);
   functionEndcapAlphaEcalHcal->SetFillColor(19);
   functionEndcapAlphaEcalHcal->SetFillStyle(0);
   functionEndcapAlphaEcalHcal->SetLineColor(2);
   functionEndcapAlphaEcalHcal->SetLineWidth(2);
   functionEndcapAlphaEcalHcal->SetChisquare(15133.02);
   functionEndcapAlphaEcalHcal->SetNDF(51);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapAlphaEcalHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapAlphaEcalHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapAlphaEcalHcal->SetParameter(0,0.0128452);
   functionEndcapAlphaEcalHcal->SetParError(0,0);
   functionEndcapAlphaEcalHcal->SetParLimits(0,0.0128452,0.0128452);
   functionEndcapAlphaEcalHcal->SetParameter(1,-87.2358);
   functionEndcapAlphaEcalHcal->SetParError(1,0);
   functionEndcapAlphaEcalHcal->SetParLimits(1,-87.2358,-87.2358);
   functionEndcapAlphaEcalHcal->SetParameter(2,-1.48798);
   functionEndcapAlphaEcalHcal->SetParError(2,0);
   functionEndcapAlphaEcalHcal->SetParLimits(2,-1.48798,-1.48798);
   gre->GetListOfFunctions()->Add(functionEndcapAlphaEcalHcal);
   gre->Draw("p");
   
   TF1 *faEtaBarrel = new TF1("faEtaBarrel","#alpha coef 4XY",1,1000);
   faEtaBarrel->SetFillColor(19);
   faEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   faEtaBarrel->SetLineColor(ci);
   faEtaBarrel->SetLineWidth(2);
   faEtaBarrel->SetLineStyle(2);
   faEtaBarrel->GetXaxis()->SetLabelFont(42);
   faEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetXaxis()->SetTitleFont(42);
   faEtaBarrel->GetYaxis()->SetLabelFont(42);
   faEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   faEtaBarrel->GetYaxis()->SetTitleFont(42);
   faEtaBarrel->SetParameter(0,0.014664);
   faEtaBarrel->SetParError(0,0);
   faEtaBarrel->SetParLimits(0,0,0);
   faEtaBarrel->SetParameter(1,-0.0426776);
   faEtaBarrel->SetParError(1,0);
   faEtaBarrel->SetParLimits(1,0,0);
   faEtaBarrel->SetParameter(2,431.054);
   faEtaBarrel->SetParError(2,0);
   faEtaBarrel->SetParLimits(2,0,0);
   faEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Graph0","[0]+([1]*x^[2]*exp(-x))","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3484337,0.9293066,0.513012,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#alpha coef 4XY");
   //   pt->Draw();
   AlphaEH_endcap->Modified();
   AlphaEH_endcap->cd();
   AlphaEH_endcap->SetSelected(AlphaEH_endcap);
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/pdf/EH_ec/AlphaCoefficientEH_endcap.pdf");
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/png/EH_ec/AlphaCoefficientEH_endcap.png");
   AlphaEH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/gif/EH_ec/AlphaCoefficientEH_endcap.gif");
}
