{
//=========Macro generated from canvas: BetaH_endcap/Beta
//=========  (Tue Mar 24 15:10:13 2020) by ROOT version5.34/36
   TCanvas *BetaH_endcap = new TCanvas("BetaH_endcap", "Beta",40,63,500,300);
   BetaH_endcap->Range(0,0,1,1);
   BetaH_endcap->SetFillColor(0);
   BetaH_endcap->SetBorderMode(0);
   BetaH_endcap->SetBorderSize(2);
   BetaH_endcap->SetLogx();
   BetaH_endcap->SetGridx();
   BetaH_endcap->SetGridy();
   BetaH_endcap->SetFrameBorderMode(0);
   
   TH2F *histoCG = new TH2F("histoCG","Beta parameter (H Endcap)",500,0,500,500,-2,2);
   histoCG->SetStats(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   histoCG->SetLineColor(ci);
   histoCG->GetXaxis()->SetTitle("True Energy(GeV)");
   histoCG->GetXaxis()->SetLabelFont(42);
   histoCG->GetXaxis()->SetLabelSize(0.035);
   histoCG->GetXaxis()->SetTitleSize(0.035);
   histoCG->GetXaxis()->SetTitleFont(42);
   histoCG->GetYaxis()->SetTitle("#beta coefficient (H_endcap)");
   histoCG->GetYaxis()->SetLabelFont(42);
   histoCG->GetYaxis()->SetLabelSize(0.035);
   histoCG->GetYaxis()->SetTitleSize(0.035);
   histoCG->GetYaxis()->SetTitleFont(42);
   histoCG->GetZaxis()->SetLabelFont(42);
   histoCG->GetZaxis()->SetLabelSize(0.035);
   histoCG->GetZaxis()->SetTitleSize(0.035);
   histoCG->GetZaxis()->SetTitleFont(42);
   histoCG->Draw("");
   
   TGraphErrors *gre = new TGraphErrors(51);
   gre->SetName("Graph0");
   gre->SetTitle("Beta vs True Energy");
   gre->SetMarkerColor(2);
   gre->SetMarkerStyle(22);
   gre->SetPoint(0,2.64254,-0.004953123);
   gre->SetPointError(0,0.007107353,0.0998822);
   gre->SetPoint(1,3.556729,0.03066819);
   gre->SetPointError(1,0.004684952,0.02435105);
   gre->SetPoint(2,4.530544,0.02623944);
   gre->SetPointError(2,0.003614389,0.01374384);
   gre->SetPoint(3,5.525448,0.04636367);
   gre->SetPointError(3,0.003033246,0.01022191);
   gre->SetPoint(4,6.508759,0.05925535);
   gre->SetPointError(4,0.002785011,0.008217143);
   gre->SetPoint(5,7.507043,0.07603789);
   gre->SetPointError(5,0.002691432,0.007166997);
   gre->SetPoint(6,8.501197,0.07778902);
   gre->SetPointError(6,0.002582804,0.006248324);
   gre->SetPoint(7,9.507369,0.09583944);
   gre->SetPointError(7,0.002561045,0.005724772);
   gre->SetPoint(8,12.01135,0.104622);
   gre->SetPointError(8,0.004954803,0.002372388);
   gre->SetPoint(9,16.01017,0.1081786);
   gre->SetPointError(9,0.004930959,0.001969414);
   gre->SetPoint(10,19.99412,0.1124459);
   gre->SetPointError(10,0.004952188,0.001741825);
   gre->SetPoint(11,23.9963,0.1037218);
   gre->SetPointError(11,0.004979916,0.001561373);
   gre->SetPoint(12,27.98648,0.09964348);
   gre->SetPointError(12,0.005039851,0.0014462);
   gre->SetPoint(13,32.00085,0.08981288);
   gre->SetPointError(13,0.005074245,0.001345681);
   gre->SetPoint(14,35.98789,0.08348013);
   gre->SetPointError(14,0.005137441,0.001264271);
   gre->SetPoint(15,39.99677,0.07813921);
   gre->SetPointError(15,0.005142943,0.001191082);
   gre->SetPoint(16,43.99504,0.06949541);
   gre->SetPointError(16,0.005187073,0.001124928);
   gre->SetPoint(17,47.99709,0.06587845);
   gre->SetPointError(17,0.00520851,0.001081211);
   gre->SetPoint(18,51.99456,0.06323174);
   gre->SetPointError(18,0.005241375,0.001038331);
   gre->SetPoint(19,55.99499,0.06026203);
   gre->SetPointError(19,0.005274738,0.0009968309);
   gre->SetPoint(20,59.99203,0.05321362);
   gre->SetPointError(20,0.005313994,0.0009653748);
   gre->SetPoint(21,64.00211,0.05243932);
   gre->SetPointError(21,0.005302441,0.0009332874);
   gre->SetPoint(22,68.00538,0.05275313);
   gre->SetPointError(22,0.005323166,0.0009036551);
   gre->SetPoint(23,72.00147,0.04903223);
   gre->SetPointError(23,0.00534693,0.0008783664);
   gre->SetPoint(24,75.99427,0.04235567);
   gre->SetPointError(24,0.005366012,0.0008494071);
   gre->SetPoint(25,79.99643,0.0439376);
   gre->SetPointError(25,0.005389965,0.0008316188);
   gre->SetPoint(26,83.99536,0.03891987);
   gre->SetPointError(26,0.005352121,0.0008033345);
   gre->SetPoint(27,87.99647,0.03821355);
   gre->SetPointError(27,0.005374275,0.0007878595);
   gre->SetPoint(28,92.00576,0.03645401);
   gre->SetPointError(28,0.005384649,0.0007716151);
   gre->SetPoint(29,95.99618,0.03467146);
   gre->SetPointError(29,0.00538406,0.0007551339);
   gre->SetPoint(30,98.99172,0.03318003);
   gre->SetPointError(30,0.003818383,0.001044654);
   gre->SetPoint(31,102.0055,0.0317384);
   gre->SetPointError(31,0.005416644,0.0007366362);
   gre->SetPoint(32,122.0024,0.02434266);
   gre->SetPointError(32,0.005490053,0.0006758815);
   gre->SetPoint(33,141.994,0.01949622);
   gre->SetPointError(33,0.005504006,0.0006280211);
   gre->SetPoint(34,162.0066,0.01648136);
   gre->SetPointError(34,0.005553151,0.000585337);
   gre->SetPoint(35,182.0077,0.01356159);
   gre->SetPointError(35,0.005566139,0.0005559515);
   gre->SetPoint(36,201.9871,0.009975845);
   gre->SetPointError(36,0.007032764,0.0006618008);
   gre->SetPoint(37,222.0043,0.007863305);
   gre->SetPointError(37,0.007036807,0.0006318017);
   gre->SetPoint(38,241.9966,0.008947922);
   gre->SetPointError(38,0.007038996,0.0006075617);
   gre->SetPoint(39,261.9968,0.004552981);
   gre->SetPointError(39,0.007121663,0.0005872348);
   gre->SetPoint(40,281.9987,0.005086382);
   gre->SetPointError(40,0.007170764,0.000565832);
   gre->SetPoint(41,301.993,0.003735718);
   gre->SetPointError(41,0.007184719,0.0005503424);
   gre->SetPoint(42,322.0165,0.004615245);
   gre->SetPointError(42,0.007225336,0.0005343161);
   gre->SetPoint(43,341.9919,0.001881911);
   gre->SetPointError(43,0.007227683,0.0005190236);
   gre->SetPoint(44,362.0147,0.003920545);
   gre->SetPointError(44,0.007302034,0.0005058677);
   gre->SetPoint(45,382.0034,0.003215309);
   gre->SetPointError(45,0.007368327,0.0004970392);
   gre->SetPoint(46,401.9819,0.002532827);
   gre->SetPointError(46,0.007337481,0.0004835926);
   gre->SetPoint(47,422.0073,0.001165356);
   gre->SetPointError(47,0.007307812,0.0004713492);
   gre->SetPoint(48,442.0003,0.001413393);
   gre->SetPointError(48,0.007429888,0.000465941);
   gre->SetPoint(49,462.0085,0.00225285);
   gre->SetPointError(49,0.007508562,0.0004623645);
   gre->SetPoint(50,482.0049,0.0014696);
   gre->SetPointError(50,0.007436241,0.0004522714);
   
   TH1F *Graph_Graph3 = new TH1F("Graph_Graph3","Beta vs True Energy",100,0,529.9501);
   Graph_Graph3->SetMinimum(-0.1267376);
   Graph_Graph3->SetMaximum(0.1360901);
   Graph_Graph3->SetDirectory(0);
   Graph_Graph3->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_Graph3->SetLineColor(ci);
   Graph_Graph3->GetXaxis()->SetLabelFont(42);
   Graph_Graph3->GetXaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetXaxis()->SetTitleFont(42);
   Graph_Graph3->GetYaxis()->SetLabelFont(42);
   Graph_Graph3->GetYaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetYaxis()->SetTitleFont(42);
   Graph_Graph3->GetZaxis()->SetLabelFont(42);
   Graph_Graph3->GetZaxis()->SetLabelSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleSize(0.035);
   Graph_Graph3->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_Graph3);
   
   
   TF1 *functionEndcapBetaHcal = new TF1("functionEndcapBetaHcal","[0]+[1]*exp(-x/[2])",2,500);
   functionEndcapBetaHcal->SetFillColor(19);
   functionEndcapBetaHcal->SetFillStyle(0);
   functionEndcapBetaHcal->SetLineColor(2);
   functionEndcapBetaHcal->SetLineWidth(2);
   functionEndcapBetaHcal->SetChisquare(81863.45);
   functionEndcapBetaHcal->SetNDF(50);
   functionEndcapBetaHcal->GetXaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetXaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetXaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelFont(42);
   functionEndcapBetaHcal->GetYaxis()->SetLabelSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleSize(0.035);
   functionEndcapBetaHcal->GetYaxis()->SetTitleFont(42);
   functionEndcapBetaHcal->SetParameter(0,-0.0001);
   functionEndcapBetaHcal->SetParError(0,0);
   functionEndcapBetaHcal->SetParLimits(0,-0.0001,-0.0001);
   functionEndcapBetaHcal->SetParameter(1,0);
   functionEndcapBetaHcal->SetParError(1,0);
   functionEndcapBetaHcal->SetParLimits(1,1,1);
   functionEndcapBetaHcal->SetParameter(2,0);
   //   functionEndcapBetaHcal->SetParError(2,nan);
   functionEndcapBetaHcal->SetParLimits(2,0,0);
   gre->GetListOfFunctions()->Add(functionEndcapBetaHcal);
   gre->Draw("p");
   
   TF1 *fbEtaBarrel = new TF1("fbEtaBarrel","#beta coef 4XY",1,1000);
   fbEtaBarrel->SetFillColor(19);
   fbEtaBarrel->SetFillStyle(0);

   ci = TColor::GetColor("#0000cc");
   fbEtaBarrel->SetLineColor(ci);
   fbEtaBarrel->SetLineWidth(2);
   fbEtaBarrel->SetLineStyle(2);
   fbEtaBarrel->GetXaxis()->SetLabelFont(42);
   fbEtaBarrel->GetXaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetXaxis()->SetTitleFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelFont(42);
   fbEtaBarrel->GetYaxis()->SetLabelSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleSize(0.035);
   fbEtaBarrel->GetYaxis()->SetTitleFont(42);
   fbEtaBarrel->SetParameter(0,0.00975451);
   fbEtaBarrel->SetParError(0,0);
   fbEtaBarrel->SetParLimits(0,0,0);
   fbEtaBarrel->SetParameter(1,0.102247);
   fbEtaBarrel->SetParError(1,0);
   fbEtaBarrel->SetParLimits(1,0,0);
   fbEtaBarrel->SetParameter(2,436.21);
   fbEtaBarrel->SetParError(2,0);
   fbEtaBarrel->SetParLimits(2,0,0);
   fbEtaBarrel->SetParameter(3,0);
   fbEtaBarrel->SetParError(3,0);
   fbEtaBarrel->SetParLimits(3,0,0);
   fbEtaBarrel->SetParameter(4,0);
   fbEtaBarrel->SetParError(4,0);
   fbEtaBarrel->SetParLimits(4,0,0);
   fbEtaBarrel->Draw("Lsame+");
   
   //   TLegend *leg = new TLegend(-2.353437e-185,-2.353437e-185,-2.353437e-185,-2.353437e-185,NULL,"brNDC");
   TLegend *leg = new TLegend(0.3,0.25,0.9,0.35,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetTextSize(0.04);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(1);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Graph0","[0]+[1]*exp(-x/[2])","");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(1);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.3755422,0.9293066,0.5381124,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   TText *text = pt->AddText("#beta coef 4XY");
   //   pt->Draw();
   BetaH_endcap->Modified();
   BetaH_endcap->cd();
   BetaH_endcap->SetSelected(BetaH_endcap);
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/pdf/H_ec/BetaCoefficientH_endcap.pdf");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/png/H_ec/BetaCoefficientH_endcap.png");
   BetaH_endcap->SaveAs("/home/work/bhumika/work/calibration/Ultra_legacy/final/for_UL2018/plots/without_overlay/param/gif/H_ec/BetaCoefficientH_endcap.gif");
}

